{
    "componentChunkName": "component---src-templates-blog-template-js",
    "path": "/@Cacheable: 메서드 내부 호출 개선/",
    "result": {"data":{"cur":{"id":"7b8fb0b1-85e4-5e8e-8162-aa090addace1","html":"<h3 id=\"목차\" style=\"position:relative;\"><a href=\"#%EB%AA%A9%EC%B0%A8\" aria-label=\"목차 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>목차</h3>\n<ul>\n<li>\n<p>배경</p>\n</li>\n<li>\n<p>문제</p>\n</li>\n<li>\n<p>API 개선 요구사항</p>\n</li>\n<li>\n<p>현재 API 사항</p>\n</li>\n<li>\n<p>개선된 API 요구사항</p>\n<ul>\n<li>첫 번째 시도</li>\n<li>두 번째 시도</li>\n<li>세 번째 시도</li>\n</ul>\n</li>\n<li>\n<p>Self-Invocation 해결 방안 (Proxy 생성)</p>\n<ol>\n<li>ApplicationContext DI</li>\n<li>@Resource으로 AutoWiring</li>\n</ol>\n</li>\n<li>\n<p>마무리</p>\n</li>\n</ul>\n<br>\n<h3 id=\"배경\" style=\"position:relative;\"><a href=\"#%EB%B0%B0%EA%B2%BD\" aria-label=\"배경 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>배경</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 53.333333333333336%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABsElEQVQoz3VTf2+bMBDl+3+g/bep69RuU8OWrlqypClJIPwaMSYBG9sY3nSkZFCpJx22fMd77+5sBwC6rrv62Mbnb3PatoUQAkqpfiW31sJ5C7LYcnx295ivM9gW7xrnHFpr+IGPIAj6fVEUcCiYpinyPO9Zz8KAFRL8XMMYg6YxOB4zdF3bq6MfhRTgOUfAtnjczvBr58JnHsqyhCOlRBRFSJKkZzBaUUH9yhjDYhPjzn3Gn5cIQlTwfR/7/Q7HjGEdL+B695h593hOlxeFVDex1nWNpmn6ntCegmEY4vcmxd0PD0+rA6QU15JJyCENELEQMQsRxP5F4ZBAwON+EmiSpJgvfNw+rPG49FFL0beF3EgFXdUwQsEoA/vacGc8PerZeJJEci4FTmWFsrqA2bZFyU94+TrH6ouL9e0MeRBfb4UzbAYAKvs9ozgBiuKM1c1D78uP35B5h/+AA9iwEiC51QZGadjmAkLq7StZZ1uwIMbq5xOizQ66klOF40tMpkuJ5afvcD/c4HT4C0tXpp0S07fWCo21k/NJyddX0FhUGUeZ5mikGhineaMBjs//AZ8PUQ177u9rAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"img.png\"\n        title=\"img.png\"\n        src=\"/static/629c3f5a5128bee4a91abb2a9e036b28/37523/img.png\"\n        srcset=\"/static/629c3f5a5128bee4a91abb2a9e036b28/e9ff0/img.png 180w,\n/static/629c3f5a5128bee4a91abb2a9e036b28/f21e7/img.png 360w,\n/static/629c3f5a5128bee4a91abb2a9e036b28/37523/img.png 720w,\n/static/629c3f5a5128bee4a91abb2a9e036b28/302a4/img.png 1080w,\n/static/629c3f5a5128bee4a91abb2a9e036b28/21b4d/img.png 1280w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<ol>\n<li>\n<p>클라이언트에서 특정 키워드로 조회하면, 해당 키워드에 해당하는 상품 목록을 받아온다.</p>\n<ol>\n<li>쇼핑몰 API 에서 상품을 보내주며, 12개의 상품을 디폴트로 보내준다.</li>\n<li>쇼핑몰 API에서 해당 키워드의 상품 재고가 부족하면, 12개 미만으로 응답할 수 있다.</li>\n</ol>\n</li>\n<li>\n<p>상품의 개수가 9개 미만이면, 재고 보충 notify 를 위해 슬랙봇 메시지가 전송된다.</p>\n</li>\n</ol>\n<br>\n<br>\n<h3 id=\"문제\" style=\"position:relative;\"><a href=\"#%EB%AC%B8%EC%A0%9C\" aria-label=\"문제 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>문제</h3>\n<p>상품 재고가 부족한 키워드로 api 요청이 계속 들어오면 어떻게 될까요?</p>\n<p>매번 api 요청마다 슬랙봇이 전송되기 때문에 굉장히 귀찮은 상황이 벌어집니다. 아래처럼요.\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 60%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAABrUlEQVQoz5VTSU7EQAzsLyAOHCGTrZN09m2SWVkk7iBOCM2w/P8LhcqdDMwNDla13Y5dLnfU4fiB3e0Dmm5At1yhH9bIihpRkiOMUgQ6EfSCGDq2GGgjaO8N/NDmLDwN9fp2wGZ7h6LqUDdL1O2A2BQIIwPXjyRpRhZZeKH4jmuRxjiLOm4AVbdLVM1S2PHcdCPKupcGxLxsBdO8loYmq1DWHUxWopry8rKRHE6gnp5fMK53EiA7jk6GHIWsyIR4swgmPzjzZyPTa8eHev/4wv3DoxRdbfZYb28nRhVik0PH2SRBempEfYm855k5RBZVx/dPWcoPw1HGYRK1mTUiC+r0o6XF2ayGIdRuf4+2H9H2q1NB6pYVjRg1I5IdtSIT6klknOc5h6zVxeWVdGOASfwwSUsZmYLzCRHtMnq5Y0OiXYhtflpK242yiH7YCEu+w6JqpQCLs0mSFiIBi8xaEun/zuHoqhs2yIVBjTRvkArTAgEfc2jgyGb1OXq//Cl242q4LOh4EcI4RxBlgjopxOgv/PhfRgLK428TZ/B1Ck3qWQVfG+nIZn81smOtb5f6bg6TPJqSAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"img_1.png\"\n        title=\"img_1.png\"\n        src=\"/static/fa637acb8dc9102d550944ca9740d828/37523/img_1.png\"\n        srcset=\"/static/fa637acb8dc9102d550944ca9740d828/e9ff0/img_1.png 180w,\n/static/fa637acb8dc9102d550944ca9740d828/f21e7/img_1.png 360w,\n/static/fa637acb8dc9102d550944ca9740d828/37523/img_1.png 720w,\n/static/fa637acb8dc9102d550944ca9740d828/302a4/img_1.png 1080w,\n/static/fa637acb8dc9102d550944ca9740d828/21b4d/img_1.png 1280w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span> 머..멈춰..</p>\n<p>때문에 동일한 키워드로 요청이 들어오더라도 최초 한 번만 슬랙봇 메시지를 전송하고, 그 후부터는 메시지가 전송되지 않도록 조치가 필요했습니다.</p>\n<br>\n<br>\n<h3 id=\"api-개선-요구사항\" style=\"position:relative;\"><a href=\"#api-%EA%B0%9C%EC%84%A0-%EC%9A%94%EA%B5%AC%EC%82%AC%ED%95%AD\" aria-label=\"api 개선 요구사항 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>API 개선 요구사항</h3>\n<ul>\n<li>특정 키워드의 상품 목록을 가져온다.</li>\n<li>상품 목록의 순서는 매 요청마다 랜덤으로 달라진다. (Shuffle 처리)</li>\n<li>상품 재고가 9개 미만으로 떨어지면, 재고 보충을 위해 슬랙봇 메시지를 전송한다.</li>\n<li>슬랙봇 메시지는 동일한 키워드에 대해 최초 1회만 전송되야 한다.</li>\n</ul>\n<br>\n<h3 id=\"현재-api-사항\" style=\"position:relative;\"><a href=\"#%ED%98%84%EC%9E%AC-api-%EC%82%AC%ED%95%AD\" aria-label=\"현재 api 사항 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>현재 API 사항</h3>\n<ul>\n<li>특정 키워드의 상품 목록을 가져온다.</li>\n<li>상품 목록의 순서는 매 요청마다 랜덤으로 달라진다. (Shuffle 처리)</li>\n<li>상품 재고가 9개 미만으로 떨어지면, 재고 보충을 위해 슬랙봇 메시지를 전송한다.</li>\n<li>상품 재고가 9개 미만인 키워드의 매 요청마다 슬랙봇 메시지가 전송된다. ⬅️ 개선하고 싶은 사항</li>\n</ul>\n<br>\n<h3 id=\"개선된-api-요구사항\" style=\"position:relative;\"><a href=\"#%EA%B0%9C%EC%84%A0%EB%90%9C-api-%EC%9A%94%EA%B5%AC%EC%82%AC%ED%95%AD\" aria-label=\"개선된 api 요구사항 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>개선된 API 요구사항</h3>\n<ul>\n<li>슬랙봇 메시지는, 동일한 키워드에 대해 최초 1회만 전송돼야 한다.</li>\n</ul>\n<p>슬랙봇 메시지를 1번만 전송하기 위해 캐시를 적용하기로 했고, 경량 캐시인 Ehcache를 사용하기로 했습니다.</p>\n<br>\n<h3 id=\"첫-시도\" style=\"position:relative;\"><a href=\"#%EC%B2%AB-%EC%8B%9C%EB%8F%84\" aria-label=\"첫 시도 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>첫 시도</h3>\n<p>시행착오 과정을 위해 처음 짠 코드부터 보여드리겠습니다.\n(“뭐야, 해결책이나 보여줘요” 하시는 분들은 세번째 시도 목차로 가시면 됩니다 뀨)</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Cacheable</span><span class=\"token punctuation\">(</span>cacheNames <span class=\"token operator\">=</span> <span class=\"token string\">\"products\"</span><span class=\"token punctuation\">,</span> key <span class=\"token operator\">=</span> <span class=\"token string\">\"#searchKeyword\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">public</span> <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">ProductDto</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">getProductOfReview</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> searchKeyword<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">ProductDto</span><span class=\"token punctuation\">></span></span> result <span class=\"token operator\">=</span> <span class=\"token function\">getProduct</span><span class=\"token punctuation\">(</span>searchKeyword<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// &lt;- mall api 에서 상품 정보 조회</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">.</span><span class=\"token function\">size</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&lt;</span> <span class=\"token number\">9</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">sendSlackMessage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// &lt;- slackbot 전송 메서드</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token class-name\">Collections</span><span class=\"token punctuation\">.</span><span class=\"token function\">shuffle</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// &lt;- shuffle 처리</span>\n    <span class=\"token keyword\">return</span> result<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n\n<span class=\"token comment\">// slackbot 전송 메서드</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">sendSlackMessage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n        <span class=\"token class-name\">Slack</span><span class=\"token punctuation\">.</span><span class=\"token function\">chatPostMessage</span><span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">SlackApiException</span> <span class=\"token operator\">|</span> <span class=\"token class-name\">IOException</span> exception<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        log<span class=\"token punctuation\">.</span><span class=\"token function\">error</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Slack Error\"</span> <span class=\"token operator\">+</span> exception<span class=\"token punctuation\">.</span><span class=\"token function\">getMessage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">BusinessException</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">SlackErrorCode</span><span class=\"token punctuation\">.</span>SLACK_ERROR<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<br>\n<p>상품을 조회하는 메서드 자체에 캐시를 걸었습니다.</p>\n<p>동일한 searchKeyword의 캐시 처리는 잘 되지만 2가지 문제가 있습니다.</p>\n<ol>\n<li>\n<p>상품이 shuffle 되지 않음 -> 상품이 무작위로 떨어지지 않고, 동일한 순서로 조회된다. (기획 정책과 다름)</p>\n</li>\n<li>\n<p>한번 캐싱되면, 상품이 9개 미만으로 떨어지더라도, 슬랫봇이 울리지 않는다. (재고가 부족해지더라도 노티 할 수 없음)</p>\n</li>\n<li>\n<p>슬랙봇이 최초 1회조차 전송되지 않을 수 있다.</p>\n</li>\n</ol>\n<p>위의 문제를 해결하기 위해 두 번째 시도로 갑니다.</p>\n<br>\n<h3 id=\"두번째-시도\" style=\"position:relative;\"><a href=\"#%EB%91%90%EB%B2%88%EC%A7%B8-%EC%8B%9C%EB%8F%84\" aria-label=\"두번째 시도 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>두번째 시도</h3>\n<ol>\n<li>슬랙봇 전송 메서드 sendSlackMessage() 만 캐시처리</li>\n</ol>\n<ul>\n<li>\n<p>슬랙봇 전송 메서드만 캐싱됨</p>\n</li>\n<li>\n<p>최초 한 번만 슬랙봇이 동작하고, 그 이후론 메시지가 전송되지 않는다.</p>\n</li>\n</ul>\n<p>이렇게 되면 첫 번째 시도의 문제점을 해결할 수 있습니다.</p>\n<ol>\n<li>\n<p>상품이 정상적으로 shuffle 된다.</p>\n</li>\n<li>\n<p>상품이 9개 미만으로 떨어지면, 슬랙봇 전송 메서드가 호출된다.</p>\n</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">ProductDto</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">getProductOfReview</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> searchKeyword<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">ProductDto</span><span class=\"token punctuation\">></span></span> result <span class=\"token operator\">=</span> <span class=\"token function\">getProduct</span><span class=\"token punctuation\">(</span>searchKeyword<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">.</span><span class=\"token function\">size</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&lt;</span> <span class=\"token number\">9</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        log<span class=\"token punctuation\">.</span><span class=\"token function\">info</span><span class=\"token punctuation\">(</span><span class=\"token string\">\">>> [Before] Caching method\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token comment\">// slackbot 전송 메서드</span>\n        <span class=\"token function\">sendSlackMessage</span><span class=\"token punctuation\">(</span>searchKeyword<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token class-name\">Collections</span><span class=\"token punctuation\">.</span><span class=\"token function\">shuffle</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">return</span> result<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n\n<span class=\"token comment\">// slackbot 전송 메서드 캐시 적용</span>\n<span class=\"token annotation punctuation\">@Cacheable</span><span class=\"token punctuation\">(</span>cacheNames <span class=\"token operator\">=</span> <span class=\"token string\">\"products\"</span><span class=\"token punctuation\">,</span> key <span class=\"token operator\">=</span> <span class=\"token string\">\"#searchKeyword\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">sendSlackMessage</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> searchKeyword<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    log<span class=\"token punctuation\">.</span><span class=\"token function\">info</span><span class=\"token punctuation\">(</span><span class=\"token string\">\">>> [After] Slackbot message caching\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n        <span class=\"token class-name\">Slack</span><span class=\"token punctuation\">.</span><span class=\"token function\">chatPostMessage</span><span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">SlackApiException</span> <span class=\"token operator\">|</span> <span class=\"token class-name\">IOException</span> exception<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        log<span class=\"token punctuation\">.</span><span class=\"token function\">error</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Slack Error : {}\"</span><span class=\"token punctuation\">,</span> exception<span class=\"token punctuation\">.</span><span class=\"token function\">getMessage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">BusinessException</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">SlackErrorCode</span><span class=\"token punctuation\">.</span>SLACK_ERROR<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>이제 문제점을 모두 해결했으니 코드를 실행하여, 캐싱이 잘 되는지 확인해 보겠습니다.</p>\n<br>\n<p>동일한 키워드로 API 요청을 2번 보냈을 때 로그 결과입니다.\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAABCAYAAADeko4lAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAVElEQVQI1x3KywpAQABAUWVpwULeisKCGe9QGiPK///RFauzOYYvFF6j+Mzmh7DV+OLAqTbceieUmri/SMebZLiwiwWnXIm6k0Bq0uH+v5VPmJHgBaa9HcIe1OmnAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"img_3.png\"\n        title=\"img_3.png\"\n        src=\"/static/47fcfe2d48b17c282607d05e93699a63/37523/img_3.png\"\n        srcset=\"/static/47fcfe2d48b17c282607d05e93699a63/e9ff0/img_3.png 180w,\n/static/47fcfe2d48b17c282607d05e93699a63/f21e7/img_3.png 360w,\n/static/47fcfe2d48b17c282607d05e93699a63/37523/img_3.png 720w,\n/static/47fcfe2d48b17c282607d05e93699a63/302a4/img_3.png 1080w,\n/static/47fcfe2d48b17c282607d05e93699a63/21b4d/img_3.png 1280w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAABCAYAAADeko4lAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAVUlEQVQI1xXKuw5AMABAUYnR0Bg8SggDS+stGNSrif//oyvOfJy0v4m0IVSGYn6R7UXcHPj1RqB2ZHuS9g/5aMlGi6gWRLWSdP87yQZLpA+8csJNNB+swh3aB34slQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"img_4.png\"\n        title=\"img_4.png\"\n        src=\"/static/2cda91dc046aada813466debb30ccc5d/37523/img_4.png\"\n        srcset=\"/static/2cda91dc046aada813466debb30ccc5d/e9ff0/img_4.png 180w,\n/static/2cda91dc046aada813466debb30ccc5d/f21e7/img_4.png 360w,\n/static/2cda91dc046aada813466debb30ccc5d/37523/img_4.png 720w,\n/static/2cda91dc046aada813466debb30ccc5d/302a4/img_4.png 1080w,\n/static/2cda91dc046aada813466debb30ccc5d/21b4d/img_4.png 1280w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<br>\n<p>캐시가 제대로 동작했다면 최초 한 번만 <code class=\"language-text\">>>> [After] Slackbot message caching</code> 로그가 출력 돼야 하지만, 두 번째 호출에도 로그가 출력된 것을 볼 수 있습니다. 왜 캐시가 동작하지 않을까요?\n이 문제를 해결하기 위해선 <code class=\"language-text\">Spring AOP의 self invocation</code> 에 대해 알아야 합니다.</p>\n<br>\n<h3 id=\"세-번째-시도\" style=\"position:relative;\"><a href=\"#%EC%84%B8-%EB%B2%88%EC%A7%B8-%EC%8B%9C%EB%8F%84\" aria-label=\"세 번째 시도 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>세 번째 시도</h3>\n<p>세 번째 시도 전에 self invocation 이 무엇인지 간단히 알아보겠습니다.</p>\n<p><strong>Self invocation 이란?</strong></p>\n<p>컨트롤러 단에서 proxyCall() 이란 메서드를 호출한다고 가정합니다. 그리고 그 내부에서 selfInvocation() 메서드를 호출하는 것을 볼 수 있습니다. 즉 동일한 객체 내에서 자신 외의 메서드를 호출하는 것을 self-invocation이라 부르는데, Proxy에서는 이러한 self-invocation에서 문제가 발생합니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 48.888888888888886%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABU0lEQVQoz42S626CQBCFF2pVBEQjCIJiAZfLcrE2RlFi08T6/o90GgEvNcT2x8nMZiZfzskOiTIKElIQNQQZB3cKb9KjW/1LJo3BeTG4SQrezMCbaSlukoAzWL34AHsGF2c5RHsHwduj5xUQvAJdd4euk6NlLW8utVr3jpvAvMGgzLeQnBzSYgPBzdFbHCDSAyRnBWGWoGUyiPMU8luGlhk/d8jpDJwRQwuPGIRHKOyEfvSNPjthGBSQnQydaQxpnmLgLvFqJb+Bj3B+wkCMCFwZK6gHrI4UgahBFfVcR0G1M26IfwESPUbfzsvIMs3R8/YQ6WcpiRZQFht0pgnaVnyNf9b53ehwRD8w9tfQky/I/gFdZ1t9iltAdtcYuO8laOgtodEVRDtFz06hOBl4owEo2CnaFsOLUd+h6oNoPohKq/4+8qXXnkW+DqP/He6jHhz+APvCAYIS6cQsAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"img_5.png\"\n        title=\"img_5.png\"\n        src=\"/static/70d97fead03fd6ca8f2afeb9c62590e5/37523/img_5.png\"\n        srcset=\"/static/70d97fead03fd6ca8f2afeb9c62590e5/e9ff0/img_5.png 180w,\n/static/70d97fead03fd6ca8f2afeb9c62590e5/f21e7/img_5.png 360w,\n/static/70d97fead03fd6ca8f2afeb9c62590e5/37523/img_5.png 720w,\n/static/70d97fead03fd6ca8f2afeb9c62590e5/302a4/img_5.png 1080w,\n/static/70d97fead03fd6ca8f2afeb9c62590e5/c929c/img_5.png 1218w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<br>\n<h3 id=\"spring-aop\" style=\"position:relative;\"><a href=\"#spring-aop\" aria-label=\"spring aop permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Spring AOP</h3>\n<p>Spring AOP는 @Cacheable 이 적용된 메서드를 캐싱하기 위해 인터셉터를 통해 외부의 요청을 가로챕니다.\nProxy를 통해 들어오는 메서드 호출만 인터셉트하기 때문에, 동일 클래스 내부(this)에서 접근된 경우는 캐시가 동작하지 않습니다.</p>\n<p>정리하자면 Spring AOP는@Cacheable의 동작을 위해 외부의 요청을 인터셉트하여 캐싱하지만,\n내부 호출은 proxy 가 아닌 실제 객체가 호출하는 것이기 때문에 Spring AOP 가 캐싱할 수 없습니다.\n그렇기 때문에 첫 번째 시도에서는 캐시가 정상적으로 동작했죠. getProductOfReview() 메서드는 컨트롤러에서 (외부) 호출하기 때문입니다.</p>\n<p>하지만 두 번째 시도에선 캐시가 동작하지 않았는데,\nsendSlackMessage() 메서드가 외부에서 호출되지 않고 getProductOfReview() 메서드 내부에서 호출됐기 때문입니다. 즉 Self-invocation 됐습니다.</p>\n<p>self-invocation 에선 왜 @Cacheable 이 동작하지 않을까요? Spring AOP는 캐싱을 위해 proxy 객체를 참조 후 메서드를 호출해야 하지만, self-invocation 메서드는 proxy 객체가 아닌 실제 객체(this)를 호출하기 때문입니다.</p>\n<br>\n<h3 id=\"self-invocation-해결-방안-proxy-생성\" style=\"position:relative;\"><a href=\"#self-invocation-%ED%95%B4%EA%B2%B0-%EB%B0%A9%EC%95%88-proxy-%EC%83%9D%EC%84%B1\" aria-label=\"self invocation 해결 방안 proxy 생성 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Self-Invocation 해결 방안 (Proxy 생성)</h3>\n<p>내부 호출 시에도 this 가 아닌 proxy를 참조할 수 있다면, proxy에 캐싱된 데이터를 받아 올 수 있습니다.</p>\n<p>즉 @Cacheable sendSlackMessage() 메서드를 self-invocation 이 아닌 proxy 객체로 호출하는 것입니다.</p>\n<p>2가지 방법으로 접근할 수 있는데,</p>\n<ol>\n<li>\n<p>ApplicationContext에서 동일한 클래스의 proxy bean을 생성하여 사용하거나</p>\n</li>\n<li>\n<p>@Resource 어노테이션으로 self-autowiring 할 수 있습니다.</p>\n</li>\n</ol>\n<br>\n<h3 id=\"1-applicationcontext-di\" style=\"position:relative;\"><a href=\"#1-applicationcontext-di\" aria-label=\"1 applicationcontext di permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1) ApplicationContext DI</h3>\n<p>getSpringProxy() 메서드 내부에서 applicationContext.getBean(ReviewProductService.class)를 선언합니다.</p>\n<p>이렇게 하면 getBean()의 인자와 동일한 타입의 Bean 인스턴스가 반환됩니다. 즉 getBean() 의 인자가 ReviewProductService 타입의 프록시 객체라면, 동일하게 ReviewProductService 타입의 프록시가 리턴되는 거죠.</p>\n<p>프록시 객체가 sendSlackMessage()를 호출하게 됨으로, @Cacheable 이 적용된 sendSlackMessage()는 정상적으로 캐시 처리 됩니다.</p>\n<p>getBean() 의 정의\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 74.44444444444443%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsTAAALEwEAmpwYAAACoElEQVQ4y2VT2XLaQBCUMdgCjCFgkMShc3VrJe0iYfOQylGVtzzn//+kUzNg7FQeunakGfX2TI+MONVIUg1ftIgSzQgoTjWCWPH7d1DOv+bCWHEd1YhUwwskRlYKIy96hEWPPRVcTzfRDMursAtrxp7OqMY2kHACCcuX2HgVbP8SH7wSpp3CWIQt7ETDTo83bGKFTazhJApCdij0G0PIHlHVYSNarIWClXx8Mz2UuLMzGJOgxSRUGAftDU9CY+w3oJzptzADhZFb49FrYFI91USKQfFzfOT6AbW8EAr7qoffvsJrXrGremzLDnOhsMx6bPIOXnOCUxxxkCfOz6MWD/sSE7/G46GC6UoMSN06hjHxGyzTHvOwxcyXWCUay0QxIRU/+TWWscI8avAlVlhEDSaeZELKD7c5x+Y1Nh72EqO9xMApMNwWeAoVZtRO2GLsSizi4+15tCu5ZrQrmIyIKCaieyfHgEwx3QamRy1Ilv4sNOZXkmnwQfLoXlSNPaqr+LL/2t0kMB4OEmNfYbij9iocZI9decS2OMLONZaigZUpLKMaK1Gzis8q6XxXyoSUvN8WMKwMq7hFqN7YBHE8w6tPbETQvsHJFGMeSG6PFF7USp4fkTMhJY21YMmzoGbH7fzIrtpFh4Vo2ah11rHjy0Tf5nlRVt7meWuZYFgpu0xrsQglt0ojIOUjcpEVXdaElD1eVX2e6x3tIc1vGnZsjHkosYobbNIWVtryzNZxg6GTwni5dMF4iT/idfIRk8KJR1vfYSZOmEUdFpHGk1th6pYY0+00+G2OoZ1hRKtlZxg6/+LeekcKI0x6eOU37M9/4HW/0TRnlNUb3PQVof6BUH1H1P2EyM4o81/Iqq/Iux6pOiHVJyT0d/kajtvC8RT+AuQkm9tcAgTUAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"img_6.png\"\n        title=\"img_6.png\"\n        src=\"/static/3dc79c4ffa10e013229ead8a7850b279/37523/img_6.png\"\n        srcset=\"/static/3dc79c4ffa10e013229ead8a7850b279/e9ff0/img_6.png 180w,\n/static/3dc79c4ffa10e013229ead8a7850b279/f21e7/img_6.png 360w,\n/static/3dc79c4ffa10e013229ead8a7850b279/37523/img_6.png 720w,\n/static/3dc79c4ffa10e013229ead8a7850b279/302a4/img_6.png 1080w,\n/static/3dc79c4ffa10e013229ead8a7850b279/78612/img_6.png 1260w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<br>\n<p>getSpringProxy() 의 리턴타입은 CGLIB 프록시인 것을 디버그로 확인\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 47.22222222222222%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB2ElEQVQoz1XPXXOaQBiGYRSjoCiaRPkUFBVQ2F1EJUnTNu1x///vuTtgMtMeXLN7dM/zaltVI65HdmWOei0RTUVxbRBvF3IpSI83CvGdfVqTl1f2xxpRXGhUw0W90JxfqFVDLm6kpwuatWnQnBN6pNDXFb1Q0g8lmi/QFlsmicIOLpiuQHcODLyUoZ8xCTLGfitl5Gfo7gFtHqK5+xth8YpzvBDLb/inhmVa4+RXptERO1E8hhdsV2I4B6ZxwTQuGa9PnelGMPIODJYbeo9rtKD5g1A/SKrf7KoPtupn9+7Pv3hOJFZcMPMlE+fEcLXHDLI7P8XwUsZhzsMqQZsH9+DDWmG4JUPvzMAXjCLJIBAd7TnBigpmnmSyaoM7zCD/lGH4afdvF2qL8B4chSXWusIKrxiB6E58CAp070R/tWO2Edh+xdg5dkF9uUF//hJ3b/8pRmtjLTNW2NGNSXTD3NZY+xfG2xojPjNwM+aJYhHU2K7Ccosu2n+KukX/6n3S2hPnhzcW0TtWfMOIK4ahZBRVDLwMO5HMfMXUlVhuycg5dCu70OP9zN7XupaxUSyO78zXb8zCBjOqsHbXjrmWWOEZM5BMggo7vDH2FYYnMD3JyC3Rlrv//AUIPe/2mmBM/gAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"img_7.png\"\n        title=\"img_7.png\"\n        src=\"/static/84ac06be0b3f149c395176889b655bcb/37523/img_7.png\"\n        srcset=\"/static/84ac06be0b3f149c395176889b655bcb/e9ff0/img_7.png 180w,\n/static/84ac06be0b3f149c395176889b655bcb/f21e7/img_7.png 360w,\n/static/84ac06be0b3f149c395176889b655bcb/37523/img_7.png 720w,\n/static/84ac06be0b3f149c395176889b655bcb/302a4/img_7.png 1080w,\n/static/84ac06be0b3f149c395176889b655bcb/21b4d/img_7.png 1280w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<br>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 85.55555555555556%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAAAsTAAALEwEAmpwYAAACP0lEQVQ4y4VU6XqiQBCcoNyocY2iojhcgniieGejSXb3/d+o9ptBVz4j2R/FDA3T09Vd3aTrRNCjAKQVgbTCO0Qg5ugriuwMRrCBEe2gh3soHAdINEWpO4fQmVwuyuF/zkVrDtVewqApVLqC6qyh0BTyYAWhO7392I7x1B4/viDvlFF7pju0h2e8RJ+oj/+gFn9yVKMP1OLfqMW/UI1OUJ0dv0RoT1DqjB9HyB5CO4ZqJZAHa0gcKSQ75avq7iHTzCbaK5T7CSTGqrcodqj1lyh3ZyhZM5R7ixuYvZdwyL0pRGvKbRLdoNybg5iM9l1OGWXBjKHRDXT/FXrwE7q3h+ZsodANNP8IxdlCdbbQvAMUus5oF1EWujNOQ3f3aEQfqEZnGP4RhruBZK+guHtOW3V3fC9fomNnChxOeW4MFp134JGI/SW3if1FrsIZSG7NKN/n8CJo1VpCtrPEZwcmIOYYpBmCNIcgLwxh9v6tbMwRZC+F6LNkL6F6B05LHyxQ9xaQ7YRXvOomqHsJas4MojUu7hb2QR+s8SNgdNN/OdOcDQwngWInkOkWureDRleQrDGe2qOv1c1HyCixLmC549JhcumvUOot+Z60hiANH6QRZNTzfX7fklej0k9QD95QCU9oxBmq/g6V4QmV8AzNf0UlfIfuH1C2psVD4mosd6d4do8w6BbVYM+huZn2jOGJa9QIz6gM37iNC/uRQyZQoXORQPMytppRhutIa4a3al+rbEbFrVc4msxv5l6BbP4CvXy5wYATBacAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"img_8.png\"\n        title=\"img_8.png\"\n        src=\"/static/629727ecc6513a0d0a28ba31c89c01cc/37523/img_8.png\"\n        srcset=\"/static/629727ecc6513a0d0a28ba31c89c01cc/e9ff0/img_8.png 180w,\n/static/629727ecc6513a0d0a28ba31c89c01cc/f21e7/img_8.png 360w,\n/static/629727ecc6513a0d0a28ba31c89c01cc/37523/img_8.png 720w,\n/static/629727ecc6513a0d0a28ba31c89c01cc/302a4/img_8.png 1080w,\n/static/629727ecc6513a0d0a28ba31c89c01cc/21b4d/img_8.png 1280w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>프록시 객체가 sendSlackMessage() 를 호출하게 됨으로, @Cacheable 이 적용된 sendSlackMessage() 는 정상적으로 캐시 처리 됩니다.</p>\n<br>\n<h3 id=\"2-resource으로-autowiring\" style=\"position:relative;\"><a href=\"#2-resource%EC%9C%BC%EB%A1%9C-autowiring\" aria-label=\"2 resource으로 autowiring permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2) @Resource으로 AutoWiring</h3>\n<p>스프링 4.3부턴 @Resource 어노테이션으로 self autowiring을 사용할 수 있습니다. 1)의 방법처럼 ApplicationContext를 통해 Bean을 가져올 필요없이 간단히 자신의 Bean 을 주입받을 수 있습니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 83.33333333333334%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAAAsTAAALEwEAmpwYAAAClElEQVQ4y41UaXOiQBREkMMDIokHogKCXHIJXgmaWCZVu7Vb+///Tm8x45lKZfdD1/Bg5k2/7vdgpmaAx8wG0/PBdH26EgRg+jcYhN/jvOfJX0JJc3DOEoKzBD8tCLhJ+u8kXyVsz0rIdom2tYbs7dDwSjT8PUSnRN1YgzdWdONnxn3/fj0nrfUCiO4GkreF5GzQtHdomzme3AJdbwnVyaBYCZpGDE5PwRtLAtHaQDTXkKZbcKP0mpTpeWi5OyjzI9rBAUrwDtnd4cEr0fFKSEYGcZJBmGTkYP2M8YJikoPVkxPDKmE/QGtcEHB6BtFYQTDXBPVxAcHcQLC2kKbPhFXTKtAwMkjWmrxr2CUEYwluGFGWRIPuDPVhhJZZQDRySGYByVqR2ys2Vancaa1pEbhRRg/3PNoRtzpWejSdEh33gI5/hOzt0bS3hKFobQko4xV4owA3XhAN75y9OB2CqW4UrAKssQA7Toke7DA+OeuC03zUBldH2YFP3vH6HLweoaaF9y4zXQ9t7xlqcoAcvUDxD1CT3+hEP/Dg7TBO9+gHa7RnL2i7b+iHO+jxHlq4gmqn4EfxPdMq4LUE8niFZuXYMKIs9YSUV9NTsNocnB4T7dhRDna0ADOIrr15W/4l6HlEI6rVkjgrWGctNxCqBj8ZSOHS+POknIO6HkOtmtop0fLeoIYHAsUt0TDXkIN3tNxXNOwXtGZ78iyZOU3a8280vGQPoNgluv47VO+AQfSKQfyG/nwP2SnxEH5AjX9CCT/wlP3BY/IL6vxIkvOT/IZhP0BNm1PtBnPUtZiAGSZghilqega20rH6PkxIH1ZdQKBXE5ODI5MS0LahG6Mr5bvhv0XwBU7lXly+Lfl//nnfgjL8C1fPvIdVnjYBAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"img_9.png\"\n        title=\"img_9.png\"\n        src=\"/static/78eeca03caabf0737a3f238dc2f8b1f1/37523/img_9.png\"\n        srcset=\"/static/78eeca03caabf0737a3f238dc2f8b1f1/e9ff0/img_9.png 180w,\n/static/78eeca03caabf0737a3f238dc2f8b1f1/f21e7/img_9.png 360w,\n/static/78eeca03caabf0737a3f238dc2f8b1f1/37523/img_9.png 720w,\n/static/78eeca03caabf0737a3f238dc2f8b1f1/302a4/img_9.png 1080w,\n/static/78eeca03caabf0737a3f238dc2f8b1f1/21b4d/img_9.png 1280w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>이렇게 하여 API의 요구사항을 만족하는 동시에 슬랙봇은 한 번만 전송되도록 API를 수정할 수 있었습니다.</p>\n<h3 id=\"마무리\" style=\"position:relative;\"><a href=\"#%EB%A7%88%EB%AC%B4%EB%A6%AC\" aria-label=\"마무리 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>마무리</h3>\n<p>무심코 사용한 @Cacheable 어노테이션에도 수많은 원리와 이유가 있음을 배웠습니다. 간단한 캐시 적용이라 생각했지만, 그 속에서 Self Invocation과 Spring AOP, Proxy라는 다소 복잡한 개념을 알 수 있었습니다.</p>","excerpt":"목차 배경 문제 API 개선 요구사항 현재 API 사항 개선된 API 요구사항 첫 번째 시도 두 번째 시도 세 번째 시도 Self-Invocation 해결 방안 (Proxy 생성) ApplicationContext DI @Resource으로 AutoWiring 마무리 배경  클라이언트에서 특정 키워드로 조회하면, 해당 키워드에 해당하는 상품 목록을 받아온다. 쇼핑몰 API 에서 상품을 보내주며, 12개의 상품을 디폴트로 보내준다. 쇼핑몰 API에서 해당 키워드의 상품 재고가 부족하면, 12개 미만으로 응답할 수 있다. 상품의 개수가 9개 미만이면, 재고 보충 notify 를 위해 슬랙봇 메시지가 전송된다. 문제 상품 재고가 부족한 키워드로 api 요청이 계속 들어오면 어떻게 될까요? 매번 api 요청마다 슬랙봇이 전송되기 때문에 굉장히 귀찮은 상황이 벌어집니다. 아래처럼요.\n 머..멈춰.. 때문에 동일한 키워드로 요청이 들어오더라도 최초 한 번만 슬랙봇 메시지를 전송하고, 그 후부…","frontmatter":{"date":"January 07, 2023","title":"스프링 @Cacheable 메서드 내부 호출 개선하기(feat. self invocation)","categories":"Spring","author":"Hoo","emoji":"🌿"},"fields":{"slug":"/@Cacheable: 메서드 내부 호출 개선/"}},"next":null,"prev":{"id":"618bb7aa-9cb3-51d5-922b-e3764e890587","html":"<p>처음 글또를 시작했던 <a href=\"https://junior-datalist.tistory.com/149\">2021년 7월의 글</a></p>\n<p>6기, 7기를 거쳐 8기에 참여하게 됐다. 내가 애정하는 커뮤니티가 점점 커지는 모습을 보니 뿌듯하다. 기여한 건 별로 없지만 ㅎ..</p>\n<h3 id=\"글또-8기-다짐\" style=\"position:relative;\"><a href=\"#%EA%B8%80%EB%98%90-8%EA%B8%B0-%EB%8B%A4%EC%A7%90\" aria-label=\"글또 8기 다짐 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>글또 8기 다짐</h3>\n<ul>\n<li>8기 회고 글 제출\n<ul>\n<li>6기의 다짐글을 다시 읽으니, 2년 전의 나는 어떤 주제에 관심을 가졌고, 무슨 목표가 있었는지 되돌아볼 수 있었다. 이런 류의 기록이 많이 남지 않아 아쉬웠다. 회고를 패스로 대체한 것도 살짝 후회했다.</li>\n<li>한 기수의 마무리와 소회를 글로 남겨둘 수 있는 건 큰 행운이다. 기억은 휘발되고 왜곡될 수 있지만, 기록은 그 자체로 남는다, Immutable U know.</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"no-pass\" style=\"position:relative;\"><a href=\"#no-pass\" aria-label=\"no pass permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>No Pass</h3>\n<ul>\n<li>7기 때 벌금(?)을 내진 않았지만 패스는 2회 모두 사용했다. 이번 기수는 No Pass 가 목표다. 쓸 주제는 차고 넘치는데, 뭘 써야 할지 모르겠다는 핑계를 대지 않았으면 한다. 긴장하라 미래의 나</li>\n</ul>\n<h3 id=\"영양가-있는-글-제출\" style=\"position:relative;\"><a href=\"#%EC%98%81%EC%96%91%EA%B0%80-%EC%9E%88%EB%8A%94-%EA%B8%80-%EC%A0%9C%EC%B6%9C\" aria-label=\"영양가 있는 글 제출 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>영양가 있는 글 제출</h3>\n<ul>\n<li>추상적인 다짐이지만 내가 생각하는 영양가 있는 글은 ‘문제 해결 과정과 결과가 정리된 글 / 흔히 접할 수 없는 리뷰’ 등 이 있다.</li>\n<li>블로그는 평소에도 꾸준히 쓰고 있었지만, 글또에 제출할 성격의 글은 아니라고 판단했다. 그나마 최근 쓴 글 중에선 @Cacheable 메서드 내부 호출 개선하기 (feat. self invocation)이 적당한데, 여기선 문제를 어떤 방법들로 해결했는지 기술할 수 있어 만족스러웠다. 이런 식의 글을 많이 쓸 수 있길 바란다!</li>\n<li>흔히 접할 수 없는 리뷰는, Nextstep의 ATDD 과정을 들으면서 생각했다. 고가의 강의인만큼 많은 사람들이 궁금해할 것으로 예상한다. 잘 수료해서 리뷰글을 남기도록 해야지.</li>\n</ul>\n<h3 id=\"커피챗-6회-이상-참여-현재-16\" style=\"position:relative;\"><a href=\"#%EC%BB%A4%ED%94%BC%EC%B1%97-6%ED%9A%8C-%EC%9D%B4%EC%83%81-%EC%B0%B8%EC%97%AC-%ED%98%84%EC%9E%AC-16\" aria-label=\"커피챗 6회 이상 참여 현재 16 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>커피챗 6회 이상 참여 (현재 1/6)</h3>\n<ul>\n<li>‘커피챗 활발히 참여’로 썼다가 수치화해 두는 게 좋을 것 같아 수정했다. 어제 슬기님 덕분에 조찬모임에 참여했다. 기대했던 만큼 유익한 시간이었다. 혼자 지내는 시간이 길다 보니 종종 내 생각에 갇히는 경우가 있는데, 여러 개발자 분들과 만나면 다양한 생각과 세계를 알 수 있어 즐겁다.</li>\n</ul>\n<h3 id=\"분야를-넓혀-활동하기\" style=\"position:relative;\"><a href=\"#%EB%B6%84%EC%95%BC%EB%A5%BC-%EB%84%93%ED%98%80-%ED%99%9C%EB%8F%99%ED%95%98%EA%B8%B0\" aria-label=\"분야를 넓혀 활동하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>분야를 넓혀 활동하기</h3>\n<ul>\n<li>이것 역시 추상적인 다짐인데,,, 글또가 단순히 글쓰기 모임은 아니라고 생각했다. 글또 내에서 자연스레 여러 소모임과 채널이 생기고 있다. 글을 쓰는 것이 주 목표인 모임이지만, 그 외의 모든 일도 주체적이고 자발적으로 진행할 수 있는 커뮤니티로 성장했다고 느낀다.</li>\n<li>쓰라는 글은 안쓰고 소모임/채널에서만 활발히 스레드를 달고 있다. 현재 달려또와 감사해또, 카페가또, 뮤지크스타또 등에서 활동중인데\u001c그 안에서 만난 분들과도 새로운 교류를 하고 싶다. 새로운 분야의 사람을 만날 때 나의 세계가 넓어지는 느낌을 격렬히 환영하는 편인데, 실제로 저번 기수에 만난 글또 분들 덕분에 경험하지 못할 다양한 일들을 내 삶으로 끌어 당길 수 있었다. 이번 기수에선 주체적으로 새로운 세계를 당겨오고 싶다.</li>\n</ul>\n<br>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 424px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 112.77777777777777%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAXCAYAAAALHW+jAAAACXBIWXMAAAsTAAALEwEAmpwYAAACu0lEQVQ4y72U20/TUBzH918YE/4FE2Kiz/qoT/rGg4nxGnxDZArICBc3AgMDgYTQIJaRDHAOkMjQGFe5mDEVlEy20W3ChBG2jsUN2l3br2lhDbK1ijF+k5Oe5vR8zre/y9EIgoB/OTT/DwiA53nwuZw8/hooSuB5FJO8fiyHBzBmexvUqAmjbQ34RL1BToAqTNUhl0yhtewC7peehOFsCepKT2CouVp2f/jbw+4LgLlcTlr8Mkeh6eIZ+GdH0Hj5HHSnS9Bw/hT2WBZKUgUuzVGovHIJnrnnILsfwd5vQOfdm0hnMpiZmYHFYkFvby90Oh20Wi2MRiMymYzyL8d+xDE7SeL9BIE1xxhirilMTU1KmU8mk2AYBqFQCH6/Hw6HAy6XSz2G8cQuPn9cwNrSW9DOVwj6PdhjOdD0Kra2tgril5emGEx04fV6pXkqnQWbTP+yqa+vD1arVZpns9n9ej1IVFEgw0SxGQrB5/NBEPZLKJ1Oo6OjAz09PQgEvkFXX49olNk3IPDKZSPK6/6KVa8HKysrEiivgSf9KC+/A31jHZ6ZTUgkdgvqsijQOkTgw7wdgbV10D4fkhyHVCoFy/gE7lVp8fLFONi9hByew9CiwHg8IVYvHhMkbtUaUNFkxO3qJlyrMaClm5AdH4WpZzkeR5WhE1drWjAwYsW47TVuPGxBpaEL4XBYsQULgPlT14Pfcb1Gj67+IdnR09ExlFXo4HJ7pPdckRtI0aGdeofa5lZshyMycCcWw4PmNsw7FhRvHc1RUP7kSCSC2E5USgbLsvJ6JByWalQMCSCox1AURVEgCALDw8MgBwfR3t4OkiRhs9mg1+thNpuxvLyM6elpmEwmcBynnGVRGxsbWFxchNPplJ6im2AwiEAgIPWs3W4HTdNS77rdbvkyUS2b4+q3Scn35p+Mo0n5CVDWsBcubbWvAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"img.png\"\n        title=\"img.png\"\n        src=\"/static/f2bbb84f72923ee2b1496064722510f5/1cfa9/img.png\"\n        srcset=\"/static/f2bbb84f72923ee2b1496064722510f5/e9ff0/img.png 180w,\n/static/f2bbb84f72923ee2b1496064722510f5/f21e7/img.png 360w,\n/static/f2bbb84f72923ee2b1496064722510f5/1cfa9/img.png 424w\"\n        sizes=\"(max-width: 424px) 100vw, 424px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n출처: IG @waterglasstoon</p>","frontmatter":{"date":"February 06, 2023","title":"글또 8기 다짐","categories":"글또","author":"Hoo","emoji":"🌿🤙🏻"},"fields":{"slug":"/글또 8기 다짐/"}},"site":{"siteMetadata":{"siteUrl":"https://www.zoomkoding.com","comments":{"utterances":{"repo":""}}}}},"pageContext":{"slug":"/@Cacheable: 메서드 내부 호출 개선/","nextSlug":"","prevSlug":"/글또 8기 다짐/"}},
    "staticQueryHashes": ["1073350324","1956554647","2938748437"]}