{
    "componentChunkName": "component---src-templates-blog-template-js",
    "path": "/Oauth2/",
    "result": {"data":{"cur":{"id":"73f35f2c-c44e-5145-90ed-9cd254ce7706","html":"<h1 id=\"oauth-등장배경-open-authorization\" style=\"position:relative;\"><a href=\"#oauth-%EB%93%B1%EC%9E%A5%EB%B0%B0%EA%B2%BD-open-authorization\" aria-label=\"oauth 등장배경 open authorization permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>OAuth 등장배경 (Open Authorization)</h1>\n<p>초기 트위터 시절, 써드 파티 앱을 사용해 트위터에 글을 올리는 기능이 있었다.\n지금은 상상도 하기 힘든 일이지만, 당시에는 트위터의 비밀번호를 써드 파티 앱이 그대로 전달받아 트위터 로그인을 진행했다.\n트위터 계정의 비밀번호를 써드 파티 앱이 그대로(plain text) 저장하는 등 보안상 허점이 굉장히 많았다.</p>\n<p>이런 초기 문제 해결하기 위해 Google의 AuthSub, Yahoo BBAuth 등 다양한 회사에서 유사한 기능을 구현했지만\n표준화 되어 있지 않고, 상호간 호환되지 않는 문제점이 존재했다.</p>\n<p>2007년 당시 트위터 치프 아키텍트 Blaine Cook 은 이런 말을 했다.</p>\n<blockquote>\n<p>We want something like Flickr Auth / Google AuthSub / Yahoo! BBAuth,\nbut published as an open standard, with common server and client libraries, etc.</p>\n</blockquote>\n<p>여러 전문가가 모여 Oauth1.0 스펙을 정의했지만, 2009년 11월 Oauth1.1 을 drop 하고 이전과 완전 다른 2.0 버전에 집중하기로 한다.\nOAuth2.0은 모바일 환경에서도 적용 가능하도록 업데이트하고 기존 1 버전의 혼란스러운 면을 단순화하는 것을 목표로 했다.</p>\n<br/>\n<h1 id=\"oauth-란\" style=\"position:relative;\"><a href=\"#oauth-%EB%9E%80\" aria-label=\"oauth 란 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>OAuth 란?</h1>\n<p><strong>외부서비스의 인증 및 권한 부여를 관리하는 범용 Framework.</strong>\n리소스 소유자를 대신해 <code class=\"language-text\">구글, 페이스북</code> 같은 플랫폼의 사용자 데이터에 접근하여 사용자의 접근 권한을 가져올 수 있는 <code class=\"language-text\">표준</code> 프로토콜</p>\n<br/>\n<h1 id=\"oauth20-용어\" style=\"position:relative;\"><a href=\"#oauth20-%EC%9A%A9%EC%96%B4\" aria-label=\"oauth20 용어 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Oauth2.0 용어</h1>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 110.55555555555556%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAYAAADAQbwGAAAACXBIWXMAAAsTAAALEwEAmpwYAAADeklEQVQ4y61VvW/bRhTn2lVLxhpIuhTtYCQoECfof+AuRZChQoCiS20DHtoEgYuiLTw0KdqgiLfAThwPNQrEAeJ2cBDly41iRaZs2bFiy5JFyRJlSqJEfVCWKFK8X3BHkSblZOsBx7v3ce9+770fSQ4AFLWMfHkf1WaF7cuNEmqHCjWBEMKmve8f/TqOPnJyGsHtx+CTLxFJrmAzzWMnt+kJaB8s1SSs7DwFnwzidWbtmA9nmiZTCoUEIqkgtsQItnqObgT22tZbkGsFyNUi6s3aMR+G0A6aFHbxPPgMBtGp+Rg6d3qPcn9jLn4doppiskmsGA7C7H4WJ0+eAsdxmLo5xXTdbtcTpGsabF0rPcc1fgR/Rr/H7PavnrQ5eoiOUCjEgtHp9/uZzjAMx9lGkK2n8MvyN/jqwWe4+uIC/hFu93xMbw0VRcH4+DiGh4cRCARgl8JG2DWti//iZ/D78lXcWb2BHx+OwSAdTzlYDePxOHw+HwYGBjA0NMRQTk5OOiipsx1wcW0Rl2a+xOX5bzH79K7nMqcpoihicHDQSZnOubk5Tx1tBB1Nx5NoAI+jS1BV9RhXnZQ7nQ4WFhYwPT2NRCIBd/ffR+L3Erv/oI3sXcRmDTJNT32Z3dqAcys1XUNbb7uC0XQN1kHrYoJu12Qrs1MgtMY2ILuG74LOaECDuGSPvT8rm9hujt2T7mFidwKqUbec1AAg/wDSkZi4nali6n4cuaLVDDOdALl2BYj1XlXTBGcSK72YGsOJJyfw6YtPcDk+QQkD4V8fZkY5EOFrUIpf/PkZzo89xOgfIev8xc9BPuRAvjhNu8oy4mx0kibhzMoZfLR8CndyFr8q4XOI3uZADn5j8sStCM6OLOHG/JYV8KdRkI8/APnO3/dx6AXNa3mEG2HLyB4VADzs6rY0A7F03WEFoc2LhgCtfdRld0MKogRhR3AuKMkKwnwMuqEzuVgsYDPKQ5KsmjabTaxsbKJULh8hdHe3qTYhinlH1rUOspmMI5sGQSadhaF3ewpAzGSht3Vvyo1Wjf0CpGoOtZaCYvUA+UoWUlVEyzhEsXbAPsAVVUZDq0FRZVQaMvNRDmXI9QKqauXoTSlU8wgn/gOfCCKaCmNDWGW/hEjyJXbFN9gvpbCeCmE99QpreyG8TkfwJrvB5vreK6zvhSAUdo94+H8NmvJbmcBJTFwlP4AAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"img_2.png\"\n        title=\"img_2.png\"\n        src=\"/static/e75f41652b5004538819a424c00bb739/f058b/img_2.png\"\n        srcset=\"/static/e75f41652b5004538819a424c00bb739/e9ff0/img_2.png 180w,\n/static/e75f41652b5004538819a424c00bb739/f21e7/img_2.png 360w,\n/static/e75f41652b5004538819a424c00bb739/f058b/img_2.png 630w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<h3 id=\"resource-owner\" style=\"position:relative;\"><a href=\"#resource-owner\" aria-label=\"resource owner permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Resource Owner</h3>\n<ul>\n<li>리소스 소유자.</li>\n<li>즉 써드파티 어플리케이션을 사용하면서 카카오, 구글 등의 플랫폼에 개인 정보를 저장해둔 사용자를 의미.</li>\n<li>이때 개인 정보는 사용자의 이름 생년월일, 이메일 뿐만 아니라 카카오톡 친구 목록, 구글 캘린더 정보 등이 해당</li>\n</ul>\n<h3 id=\"client\" style=\"position:relative;\"><a href=\"#client\" aria-label=\"client permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Client</h3>\n<ul>\n<li>Resource Server 의 자원을 이용하고자 하는 서비스(우리의 애플리케이션)</li>\n<li>Client 와 Resource Owner 를 헷갈리지 않는 것이 중요. Oauth2.0에서 말하는 Client 는 대부분 써드파티 어플리케이션의 <code class=\"language-text\">Server</code>를 의미한다.</li>\n</ul>\n<h3 id=\"authorization-server\" style=\"position:relative;\"><a href=\"#authorization-server\" aria-label=\"authorization server permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Authorization Server</h3>\n<ul>\n<li><code class=\"language-text\">Resource Owner</code> 를 인증하여 Client 에게 액세스 토큰을 발급하는 서버</li>\n<li>Access Token, Refresh Token 등을 발급</li>\n</ul>\n<h3 id=\"resource-server\" style=\"position:relative;\"><a href=\"#resource-server\" aria-label=\"resource server permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Resource Server</h3>\n<ul>\n<li>Oauth2.0 을 관리하는 서버(구글, 카카오)의 자원을 관리하는 서버. 우리가 만드는 써드파티 서버 아님.</li>\n</ul>\n<br/>\n<h1 id=\"oauth20-사용절차\" style=\"position:relative;\"><a href=\"#oauth20-%EC%82%AC%EC%9A%A9%EC%A0%88%EC%B0%A8\" aria-label=\"oauth20 사용절차 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>OAuth2.0 사용절차</h1>\n<p>OAuth2.0 을 사용하기 위해선 Client 를 Resource Server 에 우선 등록해야 한다.\n이 때 <code class=\"language-text\">Redirect URI</code>를 등록하는데, 사용자 인증을 마친 후 (ex, Kakao login) 사용자를 리디렉션 시킬 위치를 의미한다.</p>\n<h3 id=\"redirect-uri\" style=\"position:relative;\"><a href=\"#redirect-uri\" aria-label=\"redirect uri permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Redirect URI</h3>\n<ul>\n<li>OAuth2.0 서비스 인증을 마친 사용자는 사전에 등록된 Redirect URI 로 리디렉션 된다.</li>\n<li>이 Redirect URI 는 Front-end uri 가 될 수도 있고, Back-end API end point 가 될 수도 있다. (즉 개발자가 정하는 것)</li>\n<li>Redirect URI는 서비스에 따라 여러개 등록할 수도 있다.</li>\n</ul>\n<h3 id=\"client-id-client-secret\" style=\"position:relative;\"><a href=\"#client-id-client-secret\" aria-label=\"client id client secret permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Client ID, Client Secret</h3>\n<ul>\n<li>등록 과정을 마치면 Client ID, Secret 을 얻을 수 있다. (Secret 은 Optional 일 수 있다.)</li>\n<li>이 둘은 Access Token 을 획득하는데 사용된다.</li>\n</ul>\n<br/>\n<h1 id=\"oauth20-mechanism\" style=\"position:relative;\"><a href=\"#oauth20-mechanism\" aria-label=\"oauth20 mechanism permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Oauth2.0 Mechanism</h1>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsTAAALEwEAmpwYAAACUklEQVQ4y42TW0/bQBCF8///SR/bvvUBCYEEApoCCbkQcsHESWzHiePb3uz9qqxDWkCiHWllzXr37JlzZloWsEphhcBWFS7fL62xRdH8o4lCGGZBya/HmG/XS86HO24mGV4kmUaSUte0rJSY7gOmP6BaLHiNarVyeb1aYY1xe7t5wN1Zj85jzPdLny+XAT+ufAYnN7RP7tksYlp7JtVoRN3tYsMQZWqEMtggwM7nVL5/ZM52A/e3VE9jODxipUL1+/DQgV1Cy7HJC1S8IUlLrnsLbkcBshCIKG5Kt2CtdcB75jZJGllsI5DNMuo8d7kDNErjzWO8MGM4W9Ofrek+hTx7Ie+jlrJhdgB0XymPsrRcKcZQJBmFNEwXW3rTNd4yIdvsUKZimwqibYHUFRzM48iQxlCtG0AOjpqiROgKbSoKqUlzQRIlLOOcu6eIu1HIYp1jshxb13+VvAeUbwGVUIzGK+ZRhrfcEW4K1tuCONgwmIb0Bi/0HhcO0JsFGPOeofzIMNumb8WyFpXmRHFG8BJw235k6mRIMdp8DmikwvdjupOI2+GKi86c4SyiP/SdrkmhyEpNnAoQJdhPSm5M0dRCMAtSbjoe52ddxk8+SMFl1+fr6ZDT9jPtwQpbllD/ByBKoSuLVAYhFFIo2F9+nRwL20w6XT9l6HpLa2bPIT+HK64efC46PoNpxNwLncvefM1ksmTyEpOuE6ev/ZeGu3jXjNfhUF3V7nIuNKPxkn7fY+KtKfbmfQAU70reN2r1x7kj8OHQm9DK9eEbl/fjeZiU3/tvgx+eSoqGAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"img_5.png\"\n        title=\"img_5.png\"\n        src=\"/static/4f80637cd54ed56d0059ebef393c15dd/37523/img_5.png\"\n        srcset=\"/static/4f80637cd54ed56d0059ebef393c15dd/e9ff0/img_5.png 180w,\n/static/4f80637cd54ed56d0059ebef393c15dd/f21e7/img_5.png 360w,\n/static/4f80637cd54ed56d0059ebef393c15dd/37523/img_5.png 720w,\n/static/4f80637cd54ed56d0059ebef393c15dd/bcb8c/img_5.png 879w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<ol>\n<li>Resource Owner 가 Client 에게 인증 요청 보냄\nclient 는 authorization server 에 로그인 요청</li>\n</ol>\n<ol start=\"2\">\n<li>Login Page 제공 from Authorization Server</li>\n</ol>\n<ol start=\"3\">\n<li>\n<p>Resource Owner의 ID/PW 제공\n이 정보는 Client 에게 가는 것이 아닌 Authorization Server 로 전송됨</p>\n</li>\n<li>\n<p>Authorization Server 는 Authorization Code 발급</p>\n</li>\n<li>\n<p>사용자는 Authorization Code 와 함께 Client 의 Redirect Uri 로 리다이렉트 됨</p>\n</li>\n</ol>\n<ul>\n<li>이때 Redirect Uri를 어떤 페이지라 생각하지 말고, API Controller 로 생각하자.</li>\n</ul>\n<ol start=\"6\">\n<li>\n<p>Client ->  Authorization Code, Client Id, Client Secret (Optional) => Authorization Server</p>\n</li>\n<li>\n<p><code class=\"language-text\">Access Token</code> 발급 -> DB 에 저장</p>\n</li>\n<li>\n<p>로그인 성공</p>\n</li>\n</ol>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB7UlEQVQ4y82Uy27bMBBF/f/f0G3RH2iB7tKFm02QWgiMwLGMuJFkx4qeliWaokiegpQDG0mWWXQAgpyLmTtPaWKtxR6PWCmxgNfd7fSuwxrjdSf5XhKlguk85XpZEzy1rLOeOJekjfJ2E5Pn6MUCvV5jDgcMYIRAb7aYLMNU1UhoNI+zkLsg4dfsmW/TDV+uNvyeLplfzbi7XqJ7xcSUJUMQoOdzOIoxlV5i4hizXkNdnfKzkDyhb2/R2x2v0qcZ8s8MViFozcSXVFXopmGTHZgGMaukxHQCmZfU+466lezbnjwt6ePkHNgF0QPsa0zbjSU7uC4biloQxiVff865ud9S7AXL5ZYgfCF42HEXptwsdjxvS4Qc6IRCCEUrB6KkQKvBh/CEuu18j3wJSiOVdtPhUOwZtEENGqU02liarGIVFdyvcx6eclZJRRS9wDCcM5RNyy5raIXyzs4xLQ5s4sxjTSvHI3qql4rHpGTxN/fnISqJogyj1DlDN1WrNXHa8GMa8n0asssPfjjv5Hh8jw099pLQCgHGeMD1cle0vuGm6867edpPhxltMNZijBnXzO3xW0KXob0I6qffdeP7ROjfp2V/xf19lB8TXjp/KuGnZ/gfEL4divuzvDVyJFK+J3S2Fzb+7nvsMH4p/wDr0oxmY+bJtwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"img_3.png\"\n        title=\"img_3.png\"\n        src=\"/static/c875dd8a9e03158eda077e1f18d779a5/37523/img_3.png\"\n        srcset=\"/static/c875dd8a9e03158eda077e1f18d779a5/e9ff0/img_3.png 180w,\n/static/c875dd8a9e03158eda077e1f18d779a5/f21e7/img_3.png 360w,\n/static/c875dd8a9e03158eda077e1f18d779a5/37523/img_3.png 720w,\n/static/c875dd8a9e03158eda077e1f18d779a5/bcb8c/img_3.png 879w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<ol start=\"9\">\n<li>\n<p>사용자의 서비스 요청</p>\n</li>\n<li>\n<p>Access Token 으로 <code class=\"language-text\">Resouce Server</code> 호출</p>\n</li>\n<li>\n<p>Access Token 검증 후 리소스 제공</p>\n</li>\n<li>\n<p>Client 는 Resource Server 로 부터 전달받은 Resource 제공</p>\n</li>\n</ol>\n<br/>\n<h1 id=\"authorization-code-가-필요한-이유\" style=\"position:relative;\"><a href=\"#authorization-code-%EA%B0%80-%ED%95%84%EC%9A%94%ED%95%9C-%EC%9D%B4%EC%9C%A0\" aria-label=\"authorization code 가 필요한 이유 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Authorization Code 가 필요한 이유</h1>\n<p>Access Token 과 Authorization Code 가 헷갈릴 수 있다.\nAccess token 과 Auth Code 모두 Auth server 에서 발급되는데 왜 굳이 두 과정을 나누어 발급하는 것일까?</p>\n<p>Access Token 은 문자 그대로 (Resource 에) Access 하기 위한 토큰으로, 탈취되면 개인정보도 함께 탈취될 수 가능성이 있다.\n즉 Access Token 은 보안 상 이유로 클라이언트에게 전달하지 않고, Client(서버) 가 보관하며 필요시에만 Resource Server 에 전송하여 Resource 를 요청한다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsTAAALEwEAmpwYAAACdElEQVQ4y32TWXObMBSF/f//SV/btz70oWmmS9qsXuPYsVnMKjAGIyFAXwdw0yRd7sxl5grp6NxzdEcGMFWFkRLTNPR1l1pjjsfhH0McZc0mKLm6F7y98Pi0yPi+zrEixWOkKHXLyChFPZ5Qz+Y0ux2/ovH9vm59H1PX/VrmBNycTbm7F7z74vLmS8D7by7zD9+5/HBLshOMOibNckk7HmPCkKpukVWNCQKM49C47hNz0gRur2keVnC6xKiKajaDyR1ke0Y9m6KgEgn7Q8nFdMf1fYA6SmQYD60bM2TT0Hg+Jk0HWcwgkMlz2qLo6x6wrhssN8GOChZbwXwrGK8jLDvmdXSa8kvn7pKepXqSZdQvpAm55ZCHMavZhvHNA5v5hmxrI2OBcDyCjUsZCwg8mn06gJrBrt5QrU+AuqKOInRxpCwVSiqKQpLtC1I/xg0yrhceV/Mdjr+n2mfUcTiAnew3Uv0GRGuUSHiwBK4oscOCMFOIgyKJMhaWYLrcMVsFeKnEdgQ6STp6zxg+A+x6r32PbOfTFjmoI6iSNj8g/YDA8vDmKy7PrlgtHTLHQ3neq5afMwSqQ46zcrib2lzePHJ+sWQ2t5ncrsj3B1KRkSUZcZj0ehsln7n8mmH/bhpaVbGNCn5MHM7Pp6zXHuiKr1OPt2dLPl7bXN6HoNQLl/8O2BWVQjctSmmkrPqkLH9PTmtIc4XwBbTtvwG7T6s1m23Ij4XPt4nL5zuX+WOEY4V4osBy4p7x2hYc4v1gyP8Aa1WRiWx4BadNbdP2hwupWa48ZjOLtRVzTA9/AZR/akhTPzn3BHza9CJ0hWnbly5343malJ+qX378fjOBNQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"img_6.png\"\n        title=\"img_6.png\"\n        src=\"/static/c4a539b340402b14bf4fb7eca8c89470/37523/img_6.png\"\n        srcset=\"/static/c4a539b340402b14bf4fb7eca8c89470/e9ff0/img_6.png 180w,\n/static/c4a539b340402b14bf4fb7eca8c89470/f21e7/img_6.png 360w,\n/static/c4a539b340402b14bf4fb7eca8c89470/37523/img_6.png 720w,\n/static/c4a539b340402b14bf4fb7eca8c89470/bcb8c/img_6.png 879w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p><code class=\"language-text\">Authorization Code</code> 는 Auth Server 를 통해 url 의 쿼리 파라미터로 전달된다. (Client Server 를 거치지 않고 곧바로 사용자에게 전달)\n쿼리 파라미터에 담긴 정보는 비교적 노출이 쉽기 때문에 탈취될 위험이 존재하지만, 그렇기 때문에 비교적 보안에 덜 민감한 Auth Code 를 쿼리 파라미터에 담아 전송한다.</p>\n<p>즉 Authorization Code 는 Access Token 을 발급받기 위한 단계적 보안으로 생각할 수 있다.</p>\n<br/>\n<h1 id=\"oauth20-권한-부여-방식\" style=\"position:relative;\"><a href=\"#oauth20-%EA%B6%8C%ED%95%9C-%EB%B6%80%EC%97%AC-%EB%B0%A9%EC%8B%9D\" aria-label=\"oauth20 권한 부여 방식 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>OAuth2.0 권한 부여 방식</h1>\n<p>OAuth2.0 에서는 다양한 클라이언트 환경에 맞는 네 종류의 권한 부여 방식을 제공합니다. 본 포스팅에서 다룬 방식은 <code class=\"language-text\">권한 부여 승인 코드 방식</code>입니다.</p>\n<h4 id=\"1-authorization-code-grant--권한-부여-승인-코드-방식\" style=\"position:relative;\"><a href=\"#1-authorization-code-grant--%EA%B6%8C%ED%95%9C-%EB%B6%80%EC%97%AC-%EC%8A%B9%EC%9D%B8-%EC%BD%94%EB%93%9C-%EB%B0%A9%EC%8B%9D\" aria-label=\"1 authorization code grant  권한 부여 승인 코드 방식 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. Authorization Code Grant | 권한 부여 승인 코드 방식</h4>\n<ul>\n<li>가장 많이 사용되는 방식으로 Auth Code 를 전달하여 권한 부여 승인을 획득</li>\n</ul>\n<h4 id=\"2-implicit-grant--권한-부여-승인-코드-방식\" style=\"position:relative;\"><a href=\"#2-implicit-grant--%EA%B6%8C%ED%95%9C-%EB%B6%80%EC%97%AC-%EC%8A%B9%EC%9D%B8-%EC%BD%94%EB%93%9C-%EB%B0%A9%EC%8B%9D\" aria-label=\"2 implicit grant  권한 부여 승인 코드 방식 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. Implicit Grant | 권한 부여 승인 코드 방식</h4>\n<ul>\n<li>자격증명을 안전하게 저장하기 힘든 클라이언트에게 최적화된 방식</li>\n</ul>\n<h4 id=\"3-resource-owner-password-credentials-grant\" style=\"position:relative;\"><a href=\"#3-resource-owner-password-credentials-grant\" aria-label=\"3 resource owner password credentials grant permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. Resource Owner Password Credentials Grant</h4>\n<ul>\n<li>간단히 Username, Password 로 Access Token 을 얻는 방식</li>\n</ul>\n<h4 id=\"4-client-credentials-grant\" style=\"position:relative;\"><a href=\"#4-client-credentials-grant\" aria-label=\"4 client credentials grant permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4. Client Credentials Grant</h4>\n<ul>\n<li>클라이언트 자격증명만으로 Access Token 획득하는 방식</li>\n</ul>\n<br/>\n<h1 id=\"oauth20-의-장단점\" style=\"position:relative;\"><a href=\"#oauth20-%EC%9D%98-%EC%9E%A5%EB%8B%A8%EC%A0%90\" aria-label=\"oauth20 의 장단점 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>OAuth2.0 의 장단점</h1>\n<p><strong>장점</strong></p>\n<ol>\n<li>손쉬운 회원가입 및 로그인</li>\n<li>사용자 정보에 무작위적으로 접근하지 않고 안전하게 접근할 수 있다.</li>\n</ol>\n<p><strong>단점</strong></p>\n<ol>\n<li>사용자 정보에 제한적 접근</li>\n<li>중복 가입 방지를 위한 추가 로직 필요</li>\n</ol>\n<br/>\n<br/>","excerpt":"OAuth 등장배경 (Open Authorization) 초기 트위터 시절, 써드 파티 앱을 사용해 트위터에 글을 올리는 기능이 있었다.\n지금은 상상도 하기 힘든 일이지만, 당시에는 트위터의 비밀번호를 써드 파티 앱이 그대로 전달받아 트위터 로그인을 진행했다.\n트위터 계정의 비밀번호를 써드 파티 앱이 그대로(plain text) 저장하는 등 보안상 허점이 굉장히 많았다. 이런 초기 문제 해결하기 위해 Google의 AuthSub, Yahoo BBAuth 등 다양한 회사에서 유사한 기능을 구현했지만\n표준화 되어 있지 않고, 상호간 호환되지 않는 문제점이 존재했다. 2007년 당시 트위터 치프 아키텍트 Blaine Cook 은 이런 말을 했다. We want something like Flickr Auth / Google AuthSub / Yahoo! BBAuth,\nbut published as an open standard, with common server and client li…","frontmatter":{"date":"May 15, 2023","title":"about OAuth2.0","categories":"Oauth2","author":"Hoo","emoji":"🌿🤙🏻"},"fields":{"slug":"/Oauth2/"}},"next":{"id":"59131f27-6acd-5570-828b-5f2a6a725a57","html":"<p>아마존의 OTT <code class=\"language-text\">Prime Video</code> 의 결함 감지 서비스를 MSA에서 모놀리스 아키텍처로 마이그레이션한 사례입니다.\n보통은 모놀리스에서 MSA로 마이그레이션한 사례만 접했는데, 해당 사례는 역으로 마이그레이션 한 케이스라 흥미롭습니다.\n원문은 <a href=\"https://www.primevideotech.com/video-streaming/scaling-up-the-prime-video-audio-video-monitoring-service-and-reducing-costs-by-90\">🔗Prime Video 테크 블로그</a>에서 확인하실 수 있습니다.</p>\n<hr/>\n<br/>\n<blockquote>\n<p>분산형 마이크로서비스 아키텍처에서 모놀리스 애플리케이션으로 전환하여 더 높은 규모, 내구성을 달성하고 비용을 줄일 수 있었습니다.</p>\n</blockquote>\n<br/>\n<p>프라임 비디오(이하 프라임)에서는 수천개의 라이브 스트림을 고객에게 제공합니다.\n원할한 영상 제공을 위해 프라임에서는 고객이 시청하는 모든 영상을 모니터링 하고 있습니다.\n모니터링 툴 덕분에 사용자가 느끼는 품질 문제(예: 차단 손상 또는 오디오/비디오 동기화 문제)를 자동으로 식별하고 이를 해결하기 위한 프로세스를 시행할 수 있습니다.</p>\n<p>프라임의 비디오 품질 분석 팀은 오디오/비디오 품질 검사 도구를 이미 보유하고 있었지만, 대규모 라이브 스트림을 모니터링 하기 위해 설계된 것은 아니었습니다.\n서비스에 더 많은 영상을 추가하는 과정에서 대규모의 인프라를 실행할 때 많은 비용이 든다는 사실과 스트림 모니터링 시 방해되는 병목 현상 역시 발견했습니다.\n그래서 우리는 비용 문제와 스케일링시 병목 현상에 초첨을 맞춰 기존 서비스의 아키텍처를 검토 했습니다.</p>\n<p>초기의 프라임은 AWS Step Functions 으로 오케스트레이션 되는 분산 서버 형태로 구성되어 있었습니다.\n비용 측면에서 가장 비싼 태스크는 오케스트레이션 워크플로우와 분산된 컴포넌트 간 데이터 전송이었습니다.\n이 문제를 해결하기 위해 모든 구성 요소를 Single Process 로 옮겨 프로세스 메모리 내에서 데이터 전송을 유지하여 오케스트레이션 로직도 간소화했습니다.\n모든 작업을 단일 프로세스로 컴파일한 덕분에 배포를 위해 확장 가능한 EC2 및 ECS 인스턴스를 사용할 수 있었습니다.</p>\n<br/>\n<h3 id=\"분산-시스템에서의-오버헤드\" style=\"position:relative;\"><a href=\"#%EB%B6%84%EC%82%B0-%EC%8B%9C%EC%8A%A4%ED%85%9C%EC%97%90%EC%84%9C%EC%9D%98-%EC%98%A4%EB%B2%84%ED%97%A4%EB%93%9C\" aria-label=\"분산 시스템에서의 오버헤드 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>분산 시스템에서의 오버헤드</h3>\n<p>프라임은 세 가지 주요 컴포넌트로 이루어져 있습니다.</p>\n<ol>\n<li><code class=\"language-text\">미디어 변환기</code>는 입력 오디오/비디오 스트림을 프레임 또는 해독된 오디오 버퍼로 변환하여 Detector 로 전송합니다.</li>\n<li><code class=\"language-text\">Defect Detector</code> 는 프레임과 오디오 버퍼를 실시간으로 분석하여 결함(비디오 정지, 블록 손상 또는 오디도/비디오 동기화 문제 등)을 탐지하고 결함 발견 시 실시간 알림을 보냅니다.</li>\n</ol>\n<p>이 내용에 대한 자세한 내용은 ”<a href=\"https://www.primevideotech.com/computer-vision/how-prime-video-uses-machine-learning-to-ensure-video-quality\">프라임 비디오가 머신 러닝을 사용하여 동영상 품질을 보장하는 방법</a>” 문서를 참조하세요.\n3. <code class=\"language-text\">오케스트레이션</code>은 서비스 내의 흐름을 제어하는 기능을 제공합니다.</p>\n<p>프라임의 초기 솔루션은 서버리스 컴포넌트(AWS Step Functions 나 AWS Lambda)를 사용하는 분산 시스템으로 설계했는데, 빠르게 서비스를 구축할 수 있는 적절한 선택이었습니다.\n이론적으로는 각 서비스 컴포넌트를 독립적으로 확장할 수 있었지만, 일부 컴포넌트의 사용 방법으로 인해 예상 부하의 5% 정도 규모에서 한계에 부딪혔습니다.\n또한 모든 컴포넌트의의 전체 비용이 너무 높아 대규모 솔루션으로 적용하기엔 무리였습니다.</p>\n<p>아래 다이어그램은 프라임의 서버리스 아키텍처입니다. <br/></p>\n<p><strong>📌 Defect Detection 시스템의 초기 아키텍처</strong>\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 79.44444444444444%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAAsTAAALEwEAmpwYAAAC/klEQVQ4y2WUu47cNhSGp0iTKk2eJ1XewGnSpki6PIABI5XhAEmRJo2NXB7BWPhSxLkWARwDjuHcdmfXu7OzE81II1GkKFKkRPILpFljLznAAQke6j/n/P+hZgAppQuPkXjJRzPGImo57YfaYM4qfN/jnCfGxGWbTZf6fvKYIj4MiFpM3jTNdClbbzg4PCKRkEVFsfh3Agwh0miNUhIhBH3f7wDHOqY8fSB1PWEYiEOYnJhojaeSFmssJycnLBanSFETQ8TaDq31lHzscBa8RW+OiATMg5eoTx/Rtw5fKHypcbnCLQ+wx78RTYsfY60lWI83HW2prrZsnu9Rf/I25vdv0SpiCoF1Dq1bWmNwfUTfew93600Q8/PPdrxFEla2EONEx1Rh9fdTll99hNz/iX6AGALWWuq6RjUNIUJ+/w753fcZZLaDG8VKiRAjRuqJlnQu7qztHFml6YZI7DwpRK6b1IaNUKRr5zGl/wNOKjvPep3R1g3B9+i8ppENWiqUUJPKq/kCcZyhK0lTCFRRY1qLVe1VwBAHtjJHNYrQD3SZYP3hN+TPl2SHknyesc63nN19wub2HvlZTX4iKBYbVCmxjTnn8BwwUyu+mz9gIV6RuoApBWXeUjx7SH3/Y6rVX4jKUC5zymzL9vEd6h9vU1WCegS8XqF2Dc+Wv6I6SXQDnZBUPaz3PkfdfItq/wfK0lBlOduyIvvsXeov32FbbNF1e857uFBZScX8YE6jGhgiXa0RleJ0fsD86S+sVyuq0lDmhrKoOXz5gld/vqDYlLSiIboewoVcM+ccSimcd1NwFMXrDqcdtu136+IP9DhWUuJtoLcDve6ml5TcgO87aisIMexUfm2DvT42u8zm3g38zTdI1T4B6DqD7/1URNCe4/yQJ0ePyNQZs9d/mQlw5CNencMxkj/8guzrD/BqPb37sio5W62QjSJ1A4VY8/M/36NtM1Z4CdA4hsYSjCO0blqdasmzktOTNU0pSWMXXc/QdkTria2j2paTDko1/AfkFr0tGLqDWgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"img.png\"\n        title=\"img.png\"\n        src=\"/static/6499be188726d9255311ea75bf9d496b/37523/img.png\"\n        srcset=\"/static/6499be188726d9255311ea75bf9d496b/e9ff0/img.png 180w,\n/static/6499be188726d9255311ea75bf9d496b/f21e7/img.png 360w,\n/static/6499be188726d9255311ea75bf9d496b/37523/img.png 720w,\n/static/6499be188726d9255311ea75bf9d496b/6bfd0/img.png 1011w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>위 아키텍처에서 주요 스케일링 병목은 AWS Step Functions 로 구현된 오케스트레이션 관리였습니다.\n우리 서비스는 스트림의 매초마다 여러 상태 전환을 수행하는데 곧 계정한도(Account Limit)에 도달했습니다.\n게다가 AWS Step Functions 의 상태 전이를 수행할 때 마다 요금이 부과됐습니다.</p>\n<p>두 번째로 발견한 비용 문제는 비디오 프레임을 여러 컴포넌트에 전달하는 방식이었습니다.\n연산 비용이 높은 비디오 변환 작업을 줄이기 위해 비디오를 프레임으로 분할하고 일시적으로 이미지를 S3 버킷에 업로드 하는 마이크로서비스를 구축했습니다.\n이후 <code class=\"language-text\">Defect Detectors</code> 는(각각 별도의 마이크로서비스로 실행됨) 이미지를 다운받고 AWS Lambda 를 사용하여 동시에 처리합니다.\n그러나 S3 버킷에 <code class=\"language-text\">Tier-1</code> 호출 수가 많아짐에 따라 비용 역시 높아졌습니다.</p>\n<blockquote>\n<p>Amazon S3에서는 다른 액세스 패턴 및 비용 구조를 가진 객체를 저장하는 여러 티어 (저장 클래스)가 있습니다. Tier-1은 빈번한 액세스 데이터에 최적화된 표준 저장 클래스를 나타냅니다.</p>\n</blockquote>\n<br/>\n<h3 id=\"마이크로-서비스에서-모놀리스-애플리케이션까지\" style=\"position:relative;\"><a href=\"#%EB%A7%88%EC%9D%B4%ED%81%AC%EB%A1%9C-%EC%84%9C%EB%B9%84%EC%8A%A4%EC%97%90%EC%84%9C-%EB%AA%A8%EB%86%80%EB%A6%AC%EC%8A%A4-%EC%95%A0%ED%94%8C%EB%A6%AC%EC%BC%80%EC%9D%B4%EC%85%98%EA%B9%8C%EC%A7%80\" aria-label=\"마이크로 서비스에서 모놀리스 애플리케이션까지 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>마이크로 서비스에서 모놀리스 애플리케이션까지</h3>\n<p>병목 현상을 해결하기 위해, 먼저 개별 문제를 해결하여 비용을 절감하고 확장 가능성을 높일 수 있는 방법을 고려했습니다.\n우리 팀은 고심끝에 대담한 결정을 내렸는데, 인프라를 재설계하기로 결정한 것 입니다.</p>\n<p>분산 서버 환경이 우리의 케이스(Defect Detection)와 큰 이점이 없다는걸 깨달았기에 모든 구성 요소를 단일 프로세스로 통합했습니다.\n이로써 데이터 전송이 메모리 내에서 처리되므로 비디오 프레임의 중간 저장소인 S3 버킷이 불필요했습니다.\n또한 단일 인스턴스 내에서 컴포넌트를 제어하는 형태로 오케스트레이션을 구현했습니다.\n아래의 다이어그램은 모놀리스 애플리케이션으로 마이그레이션 된 시스템 아키텍처 입니다. <br/></p>\n<p><strong>📌 모든 컴포넌트가 단일 ECS 내에서 실행되는 시스템으로 업데이트된 아키텍처</strong>\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 62.22222222222222%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAACF0lEQVQoz3WTS08TURTH+4H8In4BQ7owAdLGuBLduNOliUYXJmxcgAYT4wJfMSBiSIxoUAqIoCDQ2qZVSmf6Zu6d+/qZmaHlPcmZ3Jz/vb9z7jnnppxznPdprenpzjqctn3tvHOp6GeMOWbW2hhW+FNCCJnA9yWN/D8CKTHGHoMehfeBzppY6IkRcLdaJVQq9tVqNcrlMn69jrGHwJOZpiKHdRC5bbx28brb7eL5dbROAkkpEUIgpKTRbOJ5HmEYnp2h8oqo3DjYAGQDXLJRin2wiiRccshqiQw6qKCJNeo0cM/zsaLF1MRDBgYuMTx4maGhQbLZLCMj17h6JUtmeJBMJkM6nWZsbDwBK4E7AuxZSimNMZpmo0sxX6FcqvBjbZ1CPs9WsULud5n55V/klpYoFPJxXbU1GJ0A3Ulg3IBQsFnKsVH7Tl3WaDcatDQ8mFrlyeQb7j17x/SGf2pEelfulaNfQx1KHi/e4eZsmtc/J2Kh2IXbd++zcOMC49cvMjq7TtPz+bIzx9utp3wtzrDfaVOtVmm32hT8HSqtUgJ0RhPKDkEYoA6iNqXj+ccVPky/5MXUDPPbtTiR2e1JRr/d4tXaI5w2yKjTDpZLi6z/XU2AUeoR9OhIiSCgurfHbqNLKwjPfBWuf2XiOfU9/xBoZCeupZZBbNHmna1N5t5Ps/D5E+GBzyiB1gIt2jh92JToISil+A92wIN5en9DuQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"img_1.png\"\n        title=\"img_1.png\"\n        src=\"/static/bd59b8821ffb44b26e44d10589958831/37523/img_1.png\"\n        srcset=\"/static/bd59b8821ffb44b26e44d10589958831/e9ff0/img_1.png 180w,\n/static/bd59b8821ffb44b26e44d10589958831/f21e7/img_1.png 360w,\n/static/bd59b8821ffb44b26e44d10589958831/37523/img_1.png 720w,\n/static/bd59b8821ffb44b26e44d10589958831/302a4/img_1.png 1080w,\n/static/bd59b8821ffb44b26e44d10589958831/afa26/img_1.png 1258w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n<br/></p>\n<p>개념적으로 High-level 아키텍처는 <code class=\"language-text\">미디어 변환</code>, <code class=\"language-text\">Detector</code>, <code class=\"language-text\">오케스트레이션</code> 등 초기 설계와 동일한 컴포넌트로 유지했습니다.\n덕분에 많은 코드를 재사용하여 새로운 아키텍처로 빠르게 마이그레이션 할 수 있었습니다,.</p>\n<p>초기 설계에서는 여러 개의 Detector가 별도의 마이크로 서비스로 실행됐기 때문에 수평적 확장이 가능했습니다.\n(새 Detector를 추가하려면 새로운 마이크로 서비스를 생성하여 오케스트레이션에 연결해야 했습니다)\n그러나 개선된 아키텍처는 모든 Detector가 동일한 인스턴스에서 실행되어 Detector의 수가 수직적으로만 확장됩니다.\n프라임 팀에서는 지속적으로 새로운 Detector를 추가하고 있으며, 이미 단일 인스턴스의 용량을 초과한 상태입니다.\n이 문제를 해결하기 위해 각 복제본을 다른 하위 집합의 Detector로 매개변수화 하여 서비스를 여러 번 복제했습니다.\n또한 고객 요청을 분산하기 위해 경량 오케스트레이션 레이어를 구현했습니다.</p>\n<p>아래 다이어그램은 단일 인스턴스의 용량이 초과될 때 탐지기를 배포하는 솔루션입니다. <br/></p>\n<p><strong>📌 새로운 Detector를 배포할 때 접근방식</strong>\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 111.11111111111111%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAYAAADAQbwGAAAACXBIWXMAAAsTAAALEwEAmpwYAAADIUlEQVQ4y42US6/bRBTHs+IzoH4vvgcSGzZdsWHDR2DFCgmkUlWqACEhKrUq4nXb5BInN3FeN4ljOzOeGdvz/qMZJ7lJ76XqkUYe2+Pf+Z+HTw8AvPfhAuccrLX3VrDb9RbJeBLPBGuXJcgfU0ipoLSG1iY+750DdXyh7wGNsZgvb5GMp2jaNp6l6xy70QLlnkAbA8p4dNYLsCPQGHPan5vRGhWl4IxBSYlZOsPLVy9x9fYN+v0+KKVoWglrXafwaEHNMaRzR7u8wHSVoT34apoaRVGAEIKqquC9g6gb2KAwAIQQ4JyjaZoTJF4DNEpsoacvIAZPAb7CQ3ahcLvdYjqdRnDw5p3tFLquIGbzL9jjR1Cf9+BffNkBBANj7CSG0KrL4dGD8x7WGlxk8FisdYLtpx+DfvYR7G9fnYBlWSJNU5Tl/g54lyuPUHg9ewVz/R20KKBYBsV20HQN8ecT5L9+DXrzGrKp4NoKTlaQvISTNFbfHhVGoLMIAVbPvkD9zScw9R6KrqHoBkq2UADmhcAoXaCumy6AYzHbKobtnL/sw9AeimTQNINpGUxDoZoKpNiipjtwkoOWGTgNqjisFLCqgakLiLq+y+GpsZWCFiWs5B2MrsE3IzCSwzV7GJ7BGwlWkai82SRxSbK4a5tzYGhali/hlegSP/wFapvE0Iwoo7NgcjdBc/3zoW4O9X4JLurIuQB65+KHIZzQ3uTqOfj8Ku47YNH9dosB8t+/h1QK3hm0ZHXqiAeBXoqY+NEkxfhmAsYFbL2PhQr7ZHyDwXCM4TCBEAyK3kalDwBtBBq2Q7acYNz/C4vxAMVmDl1l0DyHbiqw/RarNAHJ19ANgSSr+0B/aGQbq0tiUZxksddMS+OHLcvRRnABU5dxySqDZPllyOcqT/fvDIguAoBzgclkivl8gWQ0wmw2j+PryLgM+QA4X8dK7kWJjGzhvEUtQo5r1LWA1upCUA//Y+dAZSSeD3/AT8kzpOXNg2cvFH4I9MfkKZ70v0Ul6WGYuHei8O8Hnh8O/+k/13/jejQAq9i99+f2wcAw9tNpGif0+4D/AdpCofh7MnMRAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"img_2.png\"\n        title=\"img_2.png\"\n        src=\"/static/9d30f6af72fb47fd3143baa1e4c76300/37523/img_2.png\"\n        srcset=\"/static/9d30f6af72fb47fd3143baa1e4c76300/e9ff0/img_2.png 180w,\n/static/9d30f6af72fb47fd3143baa1e4c76300/f21e7/img_2.png 360w,\n/static/9d30f6af72fb47fd3143baa1e4c76300/37523/img_2.png 720w,\n/static/9d30f6af72fb47fd3143baa1e4c76300/a0209/img_2.png 725w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<br/>\n<h3 id=\"결과와-시사점\" style=\"position:relative;\"><a href=\"#%EA%B2%B0%EA%B3%BC%EC%99%80-%EC%8B%9C%EC%82%AC%EC%A0%90\" aria-label=\"결과와 시사점 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>결과와 시사점</h3>\n<p>마이크로서비스와 서버리스 컴포넌트는 대규모 서비스에서 잘 동작하는 아키텍처지만, 모놀리스 서비스를 대신하여 사용할지 여부는 케이스에 따라 결정해야 합니다.\n모놀리스 서비스로 전환하면서 인프라 비용이 90% 이상 절감됐고 스케일링 기능도 향상됐습니다.\n현재 수천개의 스트림을 처리할 수 있으며 서비스를 더욱 확장할 수 있는 용량을 확보했습니다.\n또한 EC2와 ECS로 이전함으로써 EC2 Computing 절약 요금제를 사용할 수 있어 더 높은 비용 절감을 기대할 수 있습니다.</p>\n<p>우리가 내린 몇 가지 결정 중 분명하지 않은 점도 있었지만 명확한 개선점은 있었습니다.\n예를 들어, Computing 비용이 많이 드는 미디어 변환 프로세스를 복제하여 Detector와 더 가까운 곳에 배치했습니다.\n비용 측면에서 미디어 변환을 한 번만 실행하여 그 결과를 캐싱하는 방법도 괜찮은 옵션이지만,\n이것이 비용측면에서 효율적인 접근이 아니라는 점을 알게 됐습니다.</p>\n<p>이로써 프라임 비디오는 시청자 수가 가장 많은 영상 뿐 아니라, 유저들이 시청하는 모든 스트림을 모니터링 할 수 있는 시스템으로 개선되어 더 높은 품질과 나은 고객 경험을 제공할 수 있게 됐습니다.</p>","frontmatter":{"date":"May 07, 2023","title":"Prime Video 서비스의 오디오/비디오 모니터링 서비스 확장 및 비용 절감 90% 사례","categories":"Architecture","author":"Hoo","emoji":"🌿🤙🏻"},"fields":{"slug":"/Scailing up the Prime Video/"}},"prev":{"id":"35a99d22-c93d-5dae-b059-5640ee277e5a","html":"<h2 id=\"개요\" style=\"position:relative;\"><a href=\"#%EA%B0%9C%EC%9A%94\" aria-label=\"개요 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>개요</h2>\n<p>최근에 앱을 출시했답니다.⭐️</p>\n<p><strong><code class=\"language-text\">Tidify</code></strong> 는 링크 아카이빙 서비스로, 링크를 복사하거나 Share Extension 을 사용하여 북마크를 자동으로 생성해주는 서비스입니다.\n사용자 편의성을 위해 링크 입력 후 북마크의 이름을 지정하지 않으면, url(링크)을 북마크의 이름으로 자동 저장합니다.\n하지만 편의성을 위한 이 기능이 어느날 에러를 내버리는데…</p>\n<p>(아직 베타버전이라 본격적인 홍보는 하지 않았지만 <a href=\"https://apps.apple.com/kr/app/tidify/id6449292500\">🔗앱스토어</a> 에서 다운받을 수 있습니다)</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 130.55555555555557%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAaCAYAAAC3g3x9AAAACXBIWXMAAAsTAAALEwEAmpwYAAACKklEQVRIx62VzW7TQBDH+x4ICXrnVp4HqdC0FziA+iIIVeXAAZ6Da8OHHBchcUHhQGI7/o7tXdvrOPYfzdqLbGgap+1Io9mP2d/OzO7ae2ilruvWVijLsqdVVUldr9e9ceqrtWr9XrdDTsuEI88F8jyHEAJZlsF1XXieB8aYHFNzaZpK24X2gJwzGLaPrlBktm3DNE0J6AptEATBZmCSJPA8F0XRRNGd625AShLHMXzf3wykHR3XxWw2k2luk61AipAcqJaqbo7jSKU2jS0WC5l+GIaIomg7kBaSqMKTVUo1VLparYZFSNFQ6rS7uhY3TplAdKIENQwDRVH8ByHfwYeiUqY+pcU5l5soS/Nd/8FAdT3ocKhWjW3aOwMpXcuy5EkS6CrZCSivS3s9Vi1Q+XR1OJAc1iXge8DCQi0E6n+gVA5aMjDCtoZFgZpqJhffJsL2ydXX3L+bAa+I6nYR1vXdR3inwKranC7N7Qzcciy7Pb2yAlheIRW1VJZViLOmz0nzCqIcAEx5gl+/HTw+DXHv0Mb+sYP7T208euHg4JUr2w9HDh4cOdg/8fFR85GxoHfx+z8plmBueTj9IPDkNcOzM47RucDzdwVevi9w/Fbg6Izj8A3D6DzD5c8ISeRf99fjME0DGQuRLD3ESxc/vuvQtc/QtS/4pn+F75pgkQ+eBHAdC0EYbgbSG53P55joOnT9Utrx+BMuLsZ/VdMmzdxEx3Q6lZ+0LvAPDh7UjU8VoF8AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"img_13.png\"\n        title=\"img_13.png\"\n        src=\"/static/f66433f513776746e19247b81ebc86ec/37523/img_13.png\"\n        srcset=\"/static/f66433f513776746e19247b81ebc86ec/e9ff0/img_13.png 180w,\n/static/f66433f513776746e19247b81ebc86ec/f21e7/img_13.png 360w,\n/static/f66433f513776746e19247b81ebc86ec/37523/img_13.png 720w,\n/static/f66433f513776746e19247b81ebc86ec/5a6dd/img_13.png 802w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<br>\n<h2 id=\"openai-도입-배경\" style=\"position:relative;\"><a href=\"#openai-%EB%8F%84%EC%9E%85-%EB%B0%B0%EA%B2%BD\" aria-label=\"openai 도입 배경 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>OpenAI 도입 배경</h2>\n<p>특정 링크(url)의 길이가 300자를 넘을 경우 DB table 의 <code class=\"language-text\">name</code> column 에서 Too long for column 에러가 발생합니다.\n당시에는 단순히 컬럼의 최대 길이를 500자로 늘려 대처했지만, 근본적인 대처 방법은 아니라 생각했습니다.\n특정 케이스만을 위해 name column 을 500자로 늘리는 건 오바라 생각했거든요.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">com.mysql.cj.jdbc.exceptions.MysqlDataTruncation:\nData truncation: Data too long for column 'name' at row 1</code></pre></div>\n<p>DB 에서 Table column 설정을 바꾸기 보단, 링크의 적절한 name 을 생성할 수 있는 방법을 구상했습니다.</p>\n<p>처음엔 2가지 접근을 생각했습니다.\nurl 을 파싱하여 1) 도메인만 저장하거나 2) 전체 url 대신, 특정 길이까지만 slicing 하여 저장하는 방식을 생각했습니다.</p>\n<ol>\n<li>하지만 도메인을 파싱할 경우, 여러 url 마다 도메인 네임의 위치가 불규칙하다는 문제가 있었습니다.</li>\n<li>특정 길이까지 slicing 하는 방법은, 사용자에게 좋지 않은 UI 라는 디자이너의 피드백이 있었습니다.\n가령 아래처럼 길이가 긴 url 을 특정 길이까지 slicing 하여 저장하면 어중간한 이름이 생성되버립니다.</li>\n</ol>\n<blockquote>\n</blockquote>\n<p>before : <code class=\"language-text\">https://docs.google.com/presentation/d/1XnBMiHbgZmclXT4dLfI6Q7fnNnXQwfo165458o3Qzv4/mobilepresent?slide=id.p</code> <br/></p>\n<blockquote>\n<p>after : <code class=\"language-text\">https://docs.google.com/presen</code></p>\n</blockquote>\n<p>이렇게 짤려버릴지도 모르는 일이니까요. 앱 UI 상엔 이렇게 저장되겠죠.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 123.88888888888889%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAZCAYAAAAxFw7TAAAACXBIWXMAAAsTAAALEwEAmpwYAAACwklEQVQ4y6VVu3LaQBR14/xeupSefAVVysykTJMm+QKncAqKxMavJAXGeAzGYwkQFiA8sQEBktBrJSSdzF1YQyzhkMnOnLmrfZy9j7OrrSRJINosihCGIaI4Bo3HCyvw9HsV1MhuUSeKIgRBgE0brV8i5pYcocYJBdnnvTxyb96iVL6EaRjoDwYwDAO6rmM4HKLfH8A0rUdvRCPPfd9PE77/8AkvX73Gt8IJNE1DrXaNpqJAVdtQWi1Issz7glCQpghns9k/hUwESyRpQoqfQBNETlaMCdCBlKuswqwl9BlDV+vxviTJOC9foFK9QvniArXr62c9zgx5VRqieuu82shDMUl4Pm9prC2KqFy73eEVbbVaYE/mNg455qFGfONgMOTo9/uPos0M+X9ks5qSZ2UjyHZ3d7Gzs4NKpcoPsawpptMpbNvmEN7/tSiMMf6Ry+Wwvf0Ce3tf0O1quLmRIMsyJElCpVKBaZrLXK4gs8q0SFEU5PN5fmczk5+BzXNoTxewgenCOs5y3KFxC/BcXsyUh0Q6HOpQOhqcXg9S4QByqYTq6QkapRKa5TIuj4+hlMuon52h9vMHbopFjK+qnNRfOPSHsCmXrs8wsyxMGzImShOTZgNGs4FxXYZel2G2FJg0XpdhtRQwrYt4cW1ThCmZxJnamSduNbdZIQtCSnDAAjCfTmQImQ/fZ/zb93zMwtnjPMlofnC8npAWhotb8/G7j5GdIPBdOI7LlXD/8ADG5k8ZHSC0mCIUVXZsF57rIYoTvPvKMHTI7RDeYsPtrQrHcRCGc+En6x5Y4X4cxfy/MRqNYel36LRVqO0OfyxuVRW93h10fYTJxEAYLPPOnhZlMpnwm2AaJsbjMd9ULJ5jf/8AR4dHODw8QqFQwOnJKe5/3fM19AOjPWQ9z1sSihy4rssnBEibSZL99q2uI4g39DeHK4Y+umCfZgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"img_14.png\"\n        title=\"img_14.png\"\n        src=\"/static/f537849d10ffae1f5c3cf4717970a7ec/37523/img_14.png\"\n        srcset=\"/static/f537849d10ffae1f5c3cf4717970a7ec/e9ff0/img_14.png 180w,\n/static/f537849d10ffae1f5c3cf4717970a7ec/f21e7/img_14.png 360w,\n/static/f537849d10ffae1f5c3cf4717970a7ec/37523/img_14.png 720w,\n/static/f537849d10ffae1f5c3cf4717970a7ec/5a6dd/img_14.png 802w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<br/>\n색다른 접근이 필요했습니다. 북마크 이름 입력을 강제하는 방법은 사용하고 싶지 않았습니다. 그런 식으로 해결하면 우선 저부터 앱을 사용하지 않을 것 같으니까요.\n<p>url 을 대표할 수 있는 북마크 이름을 자동으로 생성하는 것이 문제의 관건인데, 이 때 떠오르는 <strong><code class=\"language-text\">그 이름</code></strong></p>\n<p>그렇습니다. 그분이 등장할 때 입니다.</p>\n<p><code class=\"language-text\">GPT</code> 를 사용한다면 url 만으로 그에 맞는 북마크 이름을 생성할 수 있으리라 생각했습니다.</p>\n<p>프롬프트에 <code class=\"language-text\">url 과 그에 맞는 이름</code>을 미리 예시로 주고, 새로운 url 을 입력하여 원하는 방식으로 이름이 생성되는지 테스트 했습니다.\n이 과정에선 뤼튼을 사용했습니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 100.55555555555556%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAACq0lEQVQ4y4WTiY7jKhBF8/8f+Hqms9lO4t1sXmMbzgiyt95oiK4KFHO4VQUb5xzgwu9fw39qrfuUe809a+NhfQ/DsCKVQuuWupFo0yKVphEySEhFPwz/PGzjqfMC07RwOMac45LyrMgTQZUqsrghP0mKu5RsA1wIRdPIoKpqMG0XwBtP9cNaS5aXFEVN349B3u04ThjToZThOs0hrb/Jp/8EruvK6ZxxiBLiQ0a8y9l/XUj2Bcmu4BJVaNEhpSYvKqpa3BwKGeb+8A+HHnhJc4qyJstuTutakOcVxrQs88I4XhmnKWSzrpbV2ufcR/fTYVUKiryhLBvqSgaVhSBPa/KsCo586n8bHykv80p11tSpoboY6ouhTBSq6oOG9vrWUfeMz2v3s4YeWJ50gJVnHZTHik5PH6B32M/42ZTFO5Q0qaZMBE2qkIVh6qbg4LXZhTv33t3/Bc6z5RwP5JeJSzJyigby7IoxjkZYxvEzzZc+XW7s/VRrQRvw99O0oDUBprVFCMs0vWqFe3+m95Ita+j25vEeH+l86n3b7dDwxJy/Fe4l67jOd6BflMLRKIfQy10rQi00ar5FuSDNgmhnSjnQmCvtCO3onjIjTLNjszpHnMI5WznuFYed4rC9xf23YrdtgvbHhjiVXMqWrO4DQA8OPRDmanCMV8dmXhzdFVTngZroaDgeDNHBhHVyMkSp4PuYE10EeTMEkIeYEN0TPs53oB5BtivRQZFEmuNWhniKPVCSpA27uOCU6wBUvX1zeIOqd6D/UxjL1++R7X7i1++R/74Gtvsr22jg127k+yDZJyVZ1f1wyB3Om8PBoXpIa8gFZA1k9S2GdQ2lXCnEGOr3qJ2XdyZ7i2gtg6/hsjq6ydFPN8vDfIsPDc/IU/7bx55utJhhRfdr6PIfHD8Md2mAw6YAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"img_7.png\"\n        title=\"img_7.png\"\n        src=\"/static/cec8813cc98d868ff7fa22897193edc5/37523/img_7.png\"\n        srcset=\"/static/cec8813cc98d868ff7fa22897193edc5/e9ff0/img_7.png 180w,\n/static/cec8813cc98d868ff7fa22897193edc5/f21e7/img_7.png 360w,\n/static/cec8813cc98d868ff7fa22897193edc5/37523/img_7.png 720w,\n/static/cec8813cc98d868ff7fa22897193edc5/b4098/img_7.png 816w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>생각보다 결과가 잘나와서 놀랐습니다.\n위 같은 방법으로 프롬프트를 세팅할 수 있다면 충분히 url 의 이름을 자동으로 생성할 수 있을 것이라 생각했습니다.\n지체없이 코드를 짜보기로 했습니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 400px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFf0lEQVQ4yx2SW1SThwGA/5eds3N29rKXdfdLRwEBq7Z6uipqq4KExoRcSIBwC5cQDZfYwQp4AUURne1AnSCUTqtHl2qVYqtEWyCwRm5CAoSEBDAkIFaFcrGAk3077u17/c73CUMqOW5FDA0nt1F148/UVobTFh3Fw0Qp3xZG0pkuYVypZkUpx1wcial6M3cMCjxbUrhvjORa5TbcmWJsEe8wIRchPJYp+LBqM+n+18gkCO3kKgxX15PfvBa9N4QU65vU/jWKs5+Ek7YYTPJcAJk9G8irf5csWyi7Xa+R1/s69RE/py9iE8KsQkrelXVcanqVE5YgLrf8kRJHIBlzwbR/9RtqewOInQql+G4od//1S442hnGj4w+krgRhfBJM/fUgDniD2Ht7LTNSGYJj0waKi37F7pkQ/jIUzClLICXDgWgfhXCiLpT9DaHoCKa4LYyymyEc6Ayl0fx70mdCMc6u4sj5NRhsYRT2r2ElVoHgV0TRropi35230a0Eo59aTa55PVneMMo9gRx2/wlD7xq0s2EkE0TWbBAG61pyWtaTcz2Mv9sDMIwHU3lqK0syJUKnfCc+41o8Oasxa0XczojkmUzOxaotHLz3JqWWDZgyI2kybuWjq2EcNYXQagzHumoNB7f9mjLLW3x5ciOdcglD8bEI37+sV/QLHue/zohIRkeCjG7JdmzvbGc6TsWyVMZgfAJDhfvxlP6NkWNVTJ+tw1lzmt5jx5lO0KDe+k9Oy4+CRoTwUCXhysbN9CcreeT4AChnrG0vw7cMuLvy6dKIcJjNNA70Y2ptpvPBKL0TfuzjPnwvVvD1WflgVzkJ20ogPgphXhlD8x4pXd9ks/yfMsy3dgMVLL84wr2vDLgS38O3J4vJj2toO1HOjYpSLHXVtJ/7B07TZYYO7wdVBOOyaPwKCcJMspwucw5PZ0px2wuoOZPCxFgxrBzB9XkWDp0GV2kR45L3aN4YTNMbP2N40zq+CA9hPmIzPeKNDKt34Y8R8TxOjuDMU9HnKPi/Ki/KGB0rYnb+MHNPDtEpjaaptoxG2y2s58sxpUQyqJbw+OQJRq5fw372NNMpGqakEVx66xWGYkUISyoZjvokFjwF9PfmM2nN45HbiKcwhrlUNV+aSvmk0oDldgWn9yTz1G5n2OfDOTHJgNPJYoKCh8ooPDHbsarfRXigkFIkzuakWkdfsYLu1GQsVR/hO1ZBa7Kcm6YavOP9nD+2j96e+3Tb7LR0dOB2DDJYdojm9DS6dm1hNEnNk5fbGJSlCAntCPGtpMd9iLnhMxr/bcW9uIjrVCU9mWk0fFzN7XM1tNls3Glqwt9wnfZcA9Ulh9C03eeaVku+zUN+yz0EcdwZhMRWhPReQjK+YbjQyFBjIy0XLuB6PxeXRMRcdCRjBXkM1NfhN+i4ZNyL3ulHvwDGJUjpcZJhH2XPEgj7pXkIqQMIOicBO/IR//THnNKm4bVasUuiuRcnYUIbjm+XiK8jd2A8W0fa4yVyn4OufwzFp59hfMl9HrKnniEsqMScSTxIsuY4Vy/UU3fxIucufIp/YpyZpCSGtSF8XfAj+rJ/x4JKyufGPHRPllHWXybR1EBat4O8ZdDZRzBM/YDwPF5BR8irdO97n+4+G+4HD5iYmaGnrISb6zZgSQrDsvcn3E0OZF6l4HzFcTLuu9B7p9GPPCJ3AfTep2Q6vOQ8A8G5YwuVv30FrzIG56EDdF+6iLu2mm/ffoOrqwP4Xi3Do45hRC2mS70Tw+A4mocL6F0T6F2T6OyjZHQOYJiYJXv6BcJivIz5RDkdihi+U4h5LhPxX6UYj2wng2oRaJSQGMuIWoQ/bidj6alUV9eS3evC8N0S2VM/kPDFHRKv3CDDNsL/AC8/NdFs73KHAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"img_6.png\"\n        title=\"img_6.png\"\n        src=\"/static/a3591f2a3df0cc6a9fc44a9fdf5a1ae7/e17e5/img_6.png\"\n        srcset=\"/static/a3591f2a3df0cc6a9fc44a9fdf5a1ae7/e9ff0/img_6.png 180w,\n/static/a3591f2a3df0cc6a9fc44a9fdf5a1ae7/f21e7/img_6.png 360w,\n/static/a3591f2a3df0cc6a9fc44a9fdf5a1ae7/e17e5/img_6.png 400w\"\n        sizes=\"(max-width: 400px) 100vw, 400px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<br>\n<br>\n<h2 id=\"사용-기술과-선정-배경\" style=\"position:relative;\"><a href=\"#%EC%82%AC%EC%9A%A9-%EA%B8%B0%EC%88%A0%EA%B3%BC-%EC%84%A0%EC%A0%95-%EB%B0%B0%EA%B2%BD\" aria-label=\"사용 기술과 선정 배경 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>사용 기술과 선정 배경</h2>\n<p>Tidify 의 현재 서버는 <code class=\"language-text\">Java</code>, <code class=\"language-text\">Springboot</code> 으로 개발되어 있습니다.\nOpenAI API 를 사용하기로 결정했을 때 떠오른 옵션은 <strong><code class=\"language-text\">2가지</code></strong> 였습니다.</p>\n<ol>\n<li>기존 Springboot 서버에 OpenAI API Dependency 추가.</li>\n<li>별도의 FastAPI 서버에 OpenAI를 Import.</li>\n</ol>\n<p>단순히 OpenAI API 를 호출하기 위해서라면 별도의 서버 증설 없이 <code class=\"language-text\">1) Springboot</code> 를 그대로 사용했겠지만,\n문자열 파싱과 특정 데이터 셋(csv)을 훈련시키기 위해선, <code class=\"language-text\">pandas</code> 를 활용할 수 있는 파이썬 환경이 더 유리하다고 생각해 <code class=\"language-text\">2) FastAPI</code> 를 선택했습니다.\n비동기 호출이 지원되는 점도 FastAPI 를 선택한 이유 중 하나였습니다. (물론 스프링부트에서도 비동기 지원은 가능합니다)</p>\n<p>현 단계에선 간단히 프롬프트를 세팅해, Url 에 맞는 북마크 이름을 추천 받기로 했습니다. (Pandas 는 다음 버전부터 적용하기로 ㅎ)</p>\n<h2 id=\"개발\" style=\"position:relative;\"><a href=\"#%EA%B0%9C%EB%B0%9C\" aria-label=\"개발 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>개발</h2>\n<p>개발 환경은 아래와 같습니다.</p>\n<ul>\n<li><code class=\"language-text\">python</code> 3.9</li>\n<li><code class=\"language-text\">fastapi</code> 0.95</li>\n<li><code class=\"language-text\">openai</code> 0.27.7</li>\n<li><code class=\"language-text\">uvicorn</code> 0.22.0</li>\n<li><code class=\"language-text\">pydantic</code> 1.10.8</li>\n<li><code class=\"language-text\">Pycharm</code></li>\n</ul>\n<p>FastAPI 를 사용하기로 했으니 우선 프로젝트를 생성합니다.\nPycharm 으로 간단히 FastAPI 프로젝트를 생성 할 수 있습니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsTAAALEwEAmpwYAAAC1ElEQVQ4y4VTyY7bOBQU0FbH7jkNkoMTW6u1ctEukZblLa12gCAJMJNLkEvmY9p/MKd8oj8hgvkC0o0OJtscClUgyFIVH6XlPjGKpriPk/SIaXYfIXp8BE6OYUyOFVsdS7Y9hqQ8xrT6BlIcI5zdS0a0vF/4oaGZlnXABAGmFIIwAtO2wbIdMEwLwghB1XDI2C3Um3fQbN4q1GuJN9C8/Aj87h+o9x+A1ndge+igTR23T1/+fe5efRqC8s0XP38teQjKd0NA2MCW3cBX26Hb3Crm3W5o13ulWbsbaMa+4LQaMM3PlrPotanh9j7lgFMmfFQo2B4RlkeEF1JRNmvB27Woai7Kmgu+6kS33am1smYiyysFTDOwbLfXps/NPopTaBgXCBOx8ANVd26aIHVeNlA1LSRZCWlRQtttgS3X0PAOeLuRLGq+EmlegWk5vWZMn/fYCwAnmfDDWMxNG0zbBcNyYOGHUNYc2FIeXkPNOPC2g5qtgKYFkEQil+kuCWVle+70ZdrIQz8Yul4IDV/B/vYAq/UO2m4H3WYP230vjSDGCWCaKkOpVWVjNutJLKeciSBCwgsiZXZJGEFW1FA3LVRsqdJVzVIllBVlyod0KqHter02n8/6LMugqBqV0PWCx4TSXCaRm2mWQ5pfakojeac0LS+VL7Uvhs9ezPsFpoBIIgzL+U9laSg3IpL+Diqh1KryzHZ7UjL5RRHGWEiz7w3/B98M1TuczXo/iiGM8Xlu2mfDchSkXvjRGdPsjEhyRiT9NTA5xwjLP6zXpi9mB8v1QN6d7XqPsJwFxAgBXy7VO5TDuAykhbxkak2+UUxzoOUaSNGBvQgP2tywOj+MTz9DEKETwvQU4+QUI8kXHaEHjvEpiLNT+te/p/T955OB7jpN1/XxZHITTSY36Hs8GU/Q1ZWOrkYjNBrpaDQaKa3r+gNfo/H4Cbq++RNd//E00q+08VeaTJDHrXs18gAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"img_1.png\"\n        title=\"img_1.png\"\n        src=\"/static/00cc425e69b1fcd3ece41ec19da509c4/37523/img_1.png\"\n        srcset=\"/static/00cc425e69b1fcd3ece41ec19da509c4/e9ff0/img_1.png 180w,\n/static/00cc425e69b1fcd3ece41ec19da509c4/f21e7/img_1.png 360w,\n/static/00cc425e69b1fcd3ece41ec19da509c4/37523/img_1.png 720w,\n/static/00cc425e69b1fcd3ece41ec19da509c4/302a4/img_1.png 1080w,\n/static/00cc425e69b1fcd3ece41ec19da509c4/ea964/img_1.png 1312w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<h3 id=\"mainpy-set-up\" style=\"position:relative;\"><a href=\"#mainpy-set-up\" aria-label=\"mainpy set up permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Main.py (Set up)</h3>\n<p>엔드포인트 개설을 위해 FastAPI()를 호출하고 Prompt 클래스를 작성합니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">app <span class=\"token operator\">=</span> FastAPI<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\nopenai<span class=\"token punctuation\">.</span>api_key <span class=\"token operator\">=</span> OPEN_AI_API_KEY\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Prompt</span><span class=\"token punctuation\">(</span>BaseModel<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    question<span class=\"token punctuation\">:</span> <span class=\"token builtin\">str</span></code></pre></div>\n<br>\n<h3 id=\"mainpy-end-point\" style=\"position:relative;\"><a href=\"#mainpy-end-point\" aria-label=\"mainpy end point permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Main.py (End point)</h3>\n<p>open.Completion.create() 함수를 작성하고 engine, prompt, max_tokens, n, temperature 인자를 받습니다.</p>\n<ul>\n<li><code class=\"language-text\">engine</code> : 사용할 GPT 모델의 이름입니다. 제가 사용한 ‘text-davinci-002’ 는 OpenAi 개발한 GPT 모델 중 하나입니다.</li>\n<li><code class=\"language-text\">prompt</code> : 말 그대로 프롬프트 입니다. GPT engine 에 질문할 내용에 해당됩니다.</li>\n<li><code class=\"language-text\">max_tokens</code> : 결과에 사용될 최대 토큰 수 입니다. 토큰은 단어나 구두점 부호로 생각할 수 있습니다.</li>\n<li><code class=\"language-text\">n</code> : 프롬프트에 생성될 응답의 수 입니다. 1 로 지정한 경우, 한 가지의 텍스트 응답이 생성됩니다.</li>\n<li><code class=\"language-text\">temperature</code> : 샘플링 방법으로 무작위성을 제어합니다. temperature 값이 높을 수록 모델은 다양하고 창의성 높은 문장을 생성하며, 값이 낮을 경우 일관적이고 예상 가능한 문장을 생성합니다.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token decorator annotation punctuation\">@app<span class=\"token punctuation\">.</span>post</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/ask_openai\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">async</span> <span class=\"token keyword\">def</span> <span class=\"token function\">ask_openai</span><span class=\"token punctuation\">(</span>prompt<span class=\"token punctuation\">:</span> Prompt<span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span><span class=\"token operator\">></span> <span class=\"token builtin\">str</span><span class=\"token punctuation\">:</span>\n\n    response <span class=\"token operator\">=</span> openai<span class=\"token punctuation\">.</span>Completion<span class=\"token punctuation\">.</span>create<span class=\"token punctuation\">(</span>\n        engine<span class=\"token operator\">=</span><span class=\"token string\">\"text-davinci-002\"</span><span class=\"token punctuation\">,</span>\n        prompt<span class=\"token operator\">=</span>preset_prompt<span class=\"token punctuation\">,</span>\n        max_tokens<span class=\"token operator\">=</span><span class=\"token number\">100</span><span class=\"token punctuation\">,</span>\n        n<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n        temperature<span class=\"token operator\">=</span><span class=\"token number\">0.5</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">)</span>\n\n    semi_answer<span class=\"token punctuation\">:</span> <span class=\"token builtin\">str</span> <span class=\"token operator\">=</span> response<span class=\"token punctuation\">.</span>choices<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>text<span class=\"token punctuation\">.</span>strip<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span> semi_answer<span class=\"token punctuation\">.</span>split<span class=\"token punctuation\">(</span><span class=\"token string\">'\\n'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span></code></pre></div>\n<br>\n<p>그리고 prompt 에 사용될 preset_prompt를 작성합니다. 프롬프트를 어떻게 작성하냐에 따라 얻을 수 있는 결과가 다릅니다.\n버전별로 프롬프트를 작성하며 어떤 응답을 얻는지 비교해보겠습니다.</p>\n<hr>\n<h2 id=\"version1\" style=\"position:relative;\"><a href=\"#version1\" aria-label=\"version1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Version.1</h2>\n<h3 id=\"prompt\" style=\"position:relative;\"><a href=\"#prompt\" aria-label=\"prompt permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>prompt</h3>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">preset_prompt <span class=\"token operator\">=</span> <span class=\"token string-interpolation\"><span class=\"token string\">f\"\"\"\ngenerate simple Korean name of this input URL: </span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>prompt<span class=\"token punctuation\">.</span>question<span class=\"token punctuation\">}</span></span><span class=\"token string\"> \\n\n\"\"\"</span></span></code></pre></div>\n<h3 id=\"결과\" style=\"position:relative;\"><a href=\"#%EA%B2%B0%EA%B3%BC\" aria-label=\"결과 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>결과</h3>\n<p>전혀 깔끔하지 않은 Answer 이 돌아왔습니다.\n제가 원한 건 최소 <code class=\"language-text\">OOO 테크 블로그</code> 정도였는데, OpenAI 는 <code class=\"language-text\">웹사이트: https://techblog.woowahan.com/12044</code> 라고 답했습니다.\n아직 훈련이 필요한 친구니 프롬프트를 좀 더 상세히 작성하겠습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">Input URL <span class=\"token builtin class-name\">:</span> https://techblog.woowahan.com/12044\nOpenAI Answer <span class=\"token builtin class-name\">:</span> 웹사이트: https://techblog.woowahan.com/12044</code></pre></div>\n<hr>\n<br>\n<h2 id=\"version2\" style=\"position:relative;\"><a href=\"#version2\" aria-label=\"version2 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Version.2</h2>\n<p>Version.1 보다 상세히 프롬프트를 작성했습니다.</p>\n<ul>\n<li>우선 어떤 방식으로 url 의 name 을 생성하면 좋은지 예시를 들어줬습니다.\n<ul>\n<li><code class=\"language-text\">input URL</code> 을 제시하고, 해당 url 의 <code class=\"language-text\">name</code> 을 직접 입력했습니다.</li>\n<li>그리하여 random URL 이 입력되더라도 <code class=\"language-text\">제가 원하는 형식</code>의 name 을 얻을 수 있도록 했습니다.</li>\n</ul>\n</li>\n<li>두번째론 생성된 name 이 <code class=\"language-text\">single line</code> 이어야 한다고 재차 강조했습니다. Tidify 서비스에 사용될 북마크 name 은 대게 한줄로 저장되기 때문에 이런 제약 조건을 줬습니다.</li>\n</ul>\n<h3 id=\"prompt-1\" style=\"position:relative;\"><a href=\"#prompt-1\" aria-label=\"prompt 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>prompt</h3>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">preset_prompt <span class=\"token operator\">=</span> <span class=\"token string-interpolation\"><span class=\"token string\">f\"\"\"\nmake a simple Korean name of the url base on examples.\nIt's important to generate a result in Korean words as a single line,\nnot multiple line sentences.\n\nthe result will be used as simple bookmark,\nso it's important to generate a result as simple korean words.\n\n- example 1:\ninput URL: https://google.com\ngenerated name: 구글\n\n- example 2:\ninput URL: https://medium.com/29cm/backend/home\ngenerated name: 29CM 기술 블로그\n\n- example 3:\ninput URL: https://ios-development.tistory.com/945\ngenerated name: iOS 개발 블로그\n\n- example 4:\ninput URL: https://29cm.career.greetinghr.com/o/77203\ngenerated name: 29cm 채용 공고 페이지\n\n- example 5:\ninput URL: https://www.linkedin.com/posts/catalin-patrascu_swift-concatenation-\ngenerated name: LinkedIn Swift Concatenation 포스트\n\n- example 6:\ninput URL: https://wrtn.ai/\ngenerated name: 뤼튼\n\n- example 7:\ninput URL: https://jh-bk.tistory.com/23\ngenerated name: jh-bk 의 티스토리\n\n- example 8:\ninput URL: https://docs.google.com/presentation/d/1XnBMiHbgZmclXT4dLfI6Q7fnNnXQwfo165458o3Qzv4/mobilepresent?slide=id.p\ngenerated name: Google Presentation 슬라이드\n\nGenerate simple Korean name of this input URL: </span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>prompt<span class=\"token punctuation\">.</span>question<span class=\"token punctuation\">}</span></span><span class=\"token string\"> \\n\n\"\"\"</span></span></code></pre></div>\n<h3 id=\"결과-1\" style=\"position:relative;\"><a href=\"#%EA%B2%B0%EA%B3%BC-1\" aria-label=\"결과 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>결과</h3>\n<p>Version.1과 동일한 url 로 테스트 해보겠습니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 17.77777777777778%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA10lEQVQY032M3U7CMABGR6LiDLKxnxZGWWk3SimDqlFi1HjB+7/TMe5eL06+fOfiJI9ZQ1Y4vFS8NZL1QiJkgVKKLM/H9f5AWVYYa8ffNA3GGEIIaK25XC7EGEeXFIsFVVWidcv5NKDUms4a3K7HbDf0naGzW85DwBqNczvSNGU2m438xoUQ1HXNfD4n6d0BsWyw+yOq8/R+wIeIPz6RS0Ox3FKuLKt2T1ZtuJumJEnyN9J8IMyV6N75Dq+0KvL8eWV4+WKS7XhYnrjNNNM6kMozk5v7f4M/mI9m7bCk4A0AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"img_9.png\"\n        title=\"img_9.png\"\n        src=\"/static/653d9a0e9f498e5aebda1a73170225d4/37523/img_9.png\"\n        srcset=\"/static/653d9a0e9f498e5aebda1a73170225d4/e9ff0/img_9.png 180w,\n/static/653d9a0e9f498e5aebda1a73170225d4/f21e7/img_9.png 360w,\n/static/653d9a0e9f498e5aebda1a73170225d4/37523/img_9.png 720w,\n/static/653d9a0e9f498e5aebda1a73170225d4/302a4/img_9.png 1080w,\n/static/653d9a0e9f498e5aebda1a73170225d4/f09ab/img_9.png 1250w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>프롬프트만 바꿨을 뿐인데 성능(?)이 비약적으로 좋아진 걸 확인할 수 있습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">Input URL <span class=\"token builtin class-name\">:</span> https://techblog.woowahan.com/12044\nOpenAI Answer <span class=\"token builtin class-name\">:</span> 우아한 기술 블로그</code></pre></div>\n<br>\n<hr>\n<p><a href=\"https://docs.google.com/forms/d/e/1FAIpQLSciq7dwuIV7t0g9cITjCnf1vq1xRjj6dTfAT7hDLiwcfUn17w/viewform\">또 다른 url</a> 로 테스트\n해보겠습니다.</p>\n<h3 id=\"version1-1\" style=\"position:relative;\"><a href=\"#version1-1\" aria-label=\"version1 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Version.1</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 22.22222222222222%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA2UlEQVQY04XMQU+DMACG4SpgSMyGC8NCSykrFNZihosmU2/+/x/1GmeMRw/v4Tt8j9jtH9gUkm2h8Y1h0S3lrqQ1iqp6pGkUzg3IusZai9aasizpuu6a954QAsYY2rZFLMuClJKmqXGHjiUemacRazSjs4TZMxw6hmFgmibWdb2iv1iMkW/DOYdSCtH3B56WSIyB8fSBDa+M4YwennHxQj+fsfMLXe9otaaqKvI8J0kS0jRFCEGWZX+7qA3av2HjJ7q/oPaWu3vJeHpnKz03eUm2UYjbn/N/fQFeQGeCK45FAQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"img_10.png\"\n        title=\"img_10.png\"\n        src=\"/static/10fe2af53f9268bd15bc4d034e0e4a6d/37523/img_10.png\"\n        srcset=\"/static/10fe2af53f9268bd15bc4d034e0e4a6d/e9ff0/img_10.png 180w,\n/static/10fe2af53f9268bd15bc4d034e0e4a6d/f21e7/img_10.png 360w,\n/static/10fe2af53f9268bd15bc4d034e0e4a6d/37523/img_10.png 720w,\n/static/10fe2af53f9268bd15bc4d034e0e4a6d/302a4/img_10.png 1080w,\n/static/10fe2af53f9268bd15bc4d034e0e4a6d/f09ab/img_10.png 1250w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">Input URL <span class=\"token builtin class-name\">:</span> https://docs.google.com/forms/d/e/1FAIpQLSciq7dwuIV7t0g9cITjCnf1vq1xRjj6dTfAT7hDLiwcfUn17w/viewform\nOpenAI Answer <span class=\"token builtin class-name\">:</span> 이름:</code></pre></div>\n<h3 id=\"version2-1\" style=\"position:relative;\"><a href=\"#version2-1\" aria-label=\"version2 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Version.2</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 22.22222222222222%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA6klEQVQY002NsW6DMAAFUQNNFkJpCGBsDDYBgu1ESsaqaqdMlfr/f3NVmDrcdu9elBdvpFnFPpOMQhGk5JAfUK3geCwRosFaS13XdF2PlIqiKNC6Q2vNOI4sy0LbtiiliLz3VFWFEAJjDc77VXoOrOlZ5pHB9ivjYLgGh6hLWiU4DQbnHM/G87RpGiJjLMF7zucZFwLDNOFDoO863OWOnm7o0wUzXTHnO03vSQ8tu0ywS0uiKCJJEjabDXEcE5VmYbj9IJcH7vrgEr5R8ye3r1+G8MFLqtnmZmVXzLzmliTTbN8tyV6uwf/8ARBvau3/IZJ7AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"img_11.png\"\n        title=\"img_11.png\"\n        src=\"/static/921051e1cfa62186e7b64447e4398499/37523/img_11.png\"\n        srcset=\"/static/921051e1cfa62186e7b64447e4398499/e9ff0/img_11.png 180w,\n/static/921051e1cfa62186e7b64447e4398499/f21e7/img_11.png 360w,\n/static/921051e1cfa62186e7b64447e4398499/37523/img_11.png 720w,\n/static/921051e1cfa62186e7b64447e4398499/302a4/img_11.png 1080w,\n/static/921051e1cfa62186e7b64447e4398499/f09ab/img_11.png 1250w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">Input URL <span class=\"token builtin class-name\">:</span> https://docs.google.com/forms/d/e/1FAIpQLSciq7dwuIV7t0g9cITjCnf1vq1xRjj6dTfAT7hDLiwcfUn17w/viewform\nOpenAI Answer <span class=\"token builtin class-name\">:</span> Goolge Form 설문조사</code></pre></div>\n<br>\n<p>난해한 url 이더라도 Prompt 를 어떻게 세팅하냐에 따라 응답 결과가 천차만별인 것을 확인할 수 있습니다.</p>\n<br>\n<h3 id=\"mainpy-전체-코드\" style=\"position:relative;\"><a href=\"#mainpy-%EC%A0%84%EC%B2%B4-%EC%BD%94%EB%93%9C\" aria-label=\"mainpy 전체 코드 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Main.py (전체 코드)</h3>\n<p>전체 코드도 공유하겠습니다.\n코드를 깔끔히 보기 위해 Version2 에서 활용한 prompt 는 별도의 파일(secret.py)에 분리하여 import 했습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> openai\n<span class=\"token keyword\">from</span> fastapi <span class=\"token keyword\">import</span> FastAPI\n<span class=\"token keyword\">from</span> pydantic <span class=\"token keyword\">import</span> BaseModel\n<span class=\"token keyword\">from</span> secret <span class=\"token keyword\">import</span> OPEN_AI_API_KEY<span class=\"token punctuation\">,</span> PRE_PROMPT\n\napp <span class=\"token operator\">=</span> FastAPI<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\nopenai<span class=\"token punctuation\">.</span>api_key <span class=\"token operator\">=</span> OPEN_AI_API_KEY\n\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Prompt</span><span class=\"token punctuation\">(</span>BaseModel<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    question<span class=\"token punctuation\">:</span> <span class=\"token builtin\">str</span>\n\n\n<span class=\"token decorator annotation punctuation\">@app<span class=\"token punctuation\">.</span>post</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/ask_openai\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">async</span> <span class=\"token keyword\">def</span> <span class=\"token function\">ask_openai</span><span class=\"token punctuation\">(</span>prompt<span class=\"token punctuation\">:</span> Prompt<span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span><span class=\"token operator\">></span> <span class=\"token builtin\">str</span><span class=\"token punctuation\">:</span>\n    preset_prompt <span class=\"token operator\">=</span> <span class=\"token string-interpolation\"><span class=\"token string\">f\"\"\"\n    </span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>PRE_PROMPT<span class=\"token punctuation\">}</span></span><span class=\"token string\">\n    generate simple Korean name of this input URL: </span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>prompt<span class=\"token punctuation\">.</span>question<span class=\"token punctuation\">}</span></span><span class=\"token string\"> \\n\n    \"\"\"</span></span>\n\n    response <span class=\"token operator\">=</span> openai<span class=\"token punctuation\">.</span>Completion<span class=\"token punctuation\">.</span>create<span class=\"token punctuation\">(</span>\n        engine<span class=\"token operator\">=</span><span class=\"token string\">\"text-davinci-002\"</span><span class=\"token punctuation\">,</span>\n        prompt<span class=\"token operator\">=</span>preset_prompt<span class=\"token punctuation\">,</span>\n        max_tokens<span class=\"token operator\">=</span><span class=\"token number\">100</span><span class=\"token punctuation\">,</span>\n        n<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n        temperature<span class=\"token operator\">=</span><span class=\"token number\">0.5</span>\n    <span class=\"token punctuation\">)</span>\n\n    semi_answer<span class=\"token punctuation\">:</span> <span class=\"token builtin\">str</span> <span class=\"token operator\">=</span> response<span class=\"token punctuation\">.</span>choices<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>text<span class=\"token punctuation\">.</span>strip<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span> semi_answer<span class=\"token punctuation\">.</span>split<span class=\"token punctuation\">(</span><span class=\"token string\">'\\n'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span>\n\n\n<span class=\"token keyword\">if</span> __name__ <span class=\"token operator\">==</span> <span class=\"token string\">\"__main__\"</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">import</span> uvicorn\n\n    uvicorn<span class=\"token punctuation\">.</span>run<span class=\"token punctuation\">(</span>app<span class=\"token punctuation\">,</span> host<span class=\"token operator\">=</span><span class=\"token string\">\"0.0.0.0\"</span><span class=\"token punctuation\">,</span> port<span class=\"token operator\">=</span><span class=\"token number\">8000</span><span class=\"token punctuation\">)</span>\n</code></pre></div>\n<br>\n<br>\n<br>\n<h2 id=\"마무리\" style=\"position:relative;\"><a href=\"#%EB%A7%88%EB%AC%B4%EB%A6%AC\" aria-label=\"마무리 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>마무리</h2>\n<p>As-Is 와 To-Be 를 비교하며 마무리 짓겠습니다.</p>\n<h2 id=\"as-is\" style=\"position:relative;\"><a href=\"#as-is\" aria-label=\"as is permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>As-Is</h2>\n<p>기존엔 <code class=\"language-text\">북마크 이름</code>을 지정하지 않으면 <code class=\"language-text\">input url</code> 과 <code class=\"language-text\">동일한 값</code>으로 서버에서 세팅해줍니다.\n앞서 언급했듯 url 이 너무 길 경우를 대비해 name column 도 url column 과 <code class=\"language-text\">동일한 길이</code>로 세팅해줘야 합니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 145.55555555555554%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAdCAYAAACqhkzFAAAACXBIWXMAAAsTAAALEwEAmpwYAAAC00lEQVRIx81W227aQBDlv5qHPLQSf1k1f5CXPlZNpaZSEwUSAgVCYrAB373Gd+96fardYOKAoSh9yUjDDN7hMPd1qyxLCBbEeIGYZlIP8xSc82cuio1e2dd/V0lBLfHB1w+6tobP/Z/QIx9f1T5GoY0mqgPUdQlY/ycSBlg4FvwwwPBhjN+dGwz6Awx+XWI0GmE4HMIwDBRFgSRJkKbprofVFxGO6zgIVysEqxXOvpzh5MMJ2u022p8+Snl6eorz83OoqorZbAbf9w8DOo6DKKGgjG0MTNOEMp3Ks4oopYiiCISQw4C2bSOjxeaQo5ShCU/iOEa5zjcHkGYZPM/bAFbcqmUXnuvJcOeahiiOEdAUd84cPXeBa3MKxbdxoY3gpBGCOALxyE7BWkXJkRUUCc2wtAyQYAXDNhGkMfw8kQDf1AGG7hKPvoVbSwXJYziBD9t1UIAjL5jkgnO0Apqg607RsRV8f7xFx1JwRzTcuTPc2AruXQ1/yBwDb46+96x3HAVXyzEuZ33cujP0XBVdZwovC9ESOaG8QM4odMtEnGfIOUNWMKSMImE5YppLmTGKlOXy3I9CGI6FnBcyQulhyV9yWHIuq2abFp7GEyy1OQ4RzxmCddvsNHa9ykbgYewuMCUmJsTA1LcwW9lS1yOCReRhEXuYOEs8GQsENJPeVdV+BWjZNia+jh/6UOb0cjlC11JwbU5wZUwwInPce6rM24V6jxvtAcrKQZAnzYCieUW/Ed+XbVMZiTwLq2K9IASJsfMJ2Znp16PnupJ7vR50XX8xLGvTsJYCsN7YjR6KHDLGpC7Gb3tVSW/XK+xoQDGnYpsIbgIsD3jYWGVWWwxNu+/NgPu8+y/AQ9v6fQC+/5C3e+9NHoo+rAOK52ma7QCKq+GfgGKWRUMfQ9nWndIIKO5c4WU10/tYAInbUOh7AYUMw1Au2WNZhN34KrKvosfQ9qvIX/4UxZTrVs6NAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"img_3.png\"\n        title=\"img_3.png\"\n        src=\"/static/72321e67580ffb54c80f8906ce7b4bbe/37523/img_3.png\"\n        srcset=\"/static/72321e67580ffb54c80f8906ce7b4bbe/e9ff0/img_3.png 180w,\n/static/72321e67580ffb54c80f8906ce7b4bbe/f21e7/img_3.png 360w,\n/static/72321e67580ffb54c80f8906ce7b4bbe/37523/img_3.png 720w,\n/static/72321e67580ffb54c80f8906ce7b4bbe/612f7/img_3.png 773w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<h2 id=\"to-be\" style=\"position:relative;\"><a href=\"#to-be\" aria-label=\"to be permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>To-Be</h2>\n<p>OpenAI 를 활용해 이름을 세팅하는 경우입니다.</p>\n<p>url 입력 후 북마크 이름을 따로 지정하지 않을 경우, OpenAI 에서 응답받은 <code class=\"language-text\">추천 이름</code> 을 앱에 리턴합니다.\n프롬프트에서 결과를 single line 으로 지정하여 name 이 길어지는 문제도 해결할 수 있습니다.\n추가적으로 <code class=\"language-text\">ask_openai()</code> 메서드 return 부분에서 <strong><code class=\"language-text\">split('\\n')</code></strong> 후처리도 했기 때문에 <code class=\"language-text\">Data too long for column 'name' at row 1</code> 같은 문제는 미연에 방지할 수 있게 됐습니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 43.888888888888886%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAABqElEQVQoz3WSzWrbQBSF9YTd9AG66Ju0++5CCKTbhlAodJuWUrwwFFpISRw7Jnbin9iqrN+RRqMZaeYrkuPgpuTA5cBwOXPvPcdzzuEXGVfxmgrHDu37U96v5+A1tiEtcs6HAw4ODzg+OqLf7yOEwBjzj+g+qrpG1Yay1h0ro7HO4TlrKWWJVhWT6ZSLqwFJlqKUwmi9GxdpNLlWHTfOEpQpF+GCudhwW4RMZURRV3iFUayigEAk3BQhv5N7xiJgkW6IpUA1hsZaRtGa69hnLmJqW3O2uuZ17zMfZ5eMZ0O+/+yRqgxvU2Ys44BQZkQqJ1Y5qZb4ImYtImJdYGzzZGHHy6+nvOp94sXZBw5Pjnnz7i2j2Xh7w0mwZLS+Y5YFTBIfv0xZZhtEKf8zaSd4Mj3vRN/f/GIwueTLj29EMsEzTc199IdF6OPLlFUek5mSqEgRZcEyT1gXKb7MmIuIuyzsjGiRmwrn7MMXYHF41lpkXnSm7MNUujMlUsXj/YbRitts07m5G7jlxyi5NjZNg5Tb1dpG+9BZVRW62k6im7q7Y2vOc7nc1V8kvavQ5NEHoQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"img_4.png\"\n        title=\"img_4.png\"\n        src=\"/static/e6df83b4fddf7f0f890f12b8278dff7a/37523/img_4.png\"\n        srcset=\"/static/e6df83b4fddf7f0f890f12b8278dff7a/e9ff0/img_4.png 180w,\n/static/e6df83b4fddf7f0f890f12b8278dff7a/f21e7/img_4.png 360w,\n/static/e6df83b4fddf7f0f890f12b8278dff7a/37523/img_4.png 720w,\n/static/e6df83b4fddf7f0f890f12b8278dff7a/302a4/img_4.png 1080w,\n/static/e6df83b4fddf7f0f890f12b8278dff7a/07a9c/img_4.png 1440w,\n/static/e6df83b4fddf7f0f890f12b8278dff7a/af756/img_4.png 1639w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<br>\n<br>\n<br>\n<p>이렇게 제가 운영중인 서비스에 <code class=\"language-text\">OpenAI API</code> 를 적용해보았습니다.\n사용자 편의성을 위해 적용한 기능이 되려 장애를 일으킨 케이스였지만, 이를 AI 기술을 활용해 해결한 경험이었습니다.</p>\n<p><strong><code class=\"language-text\">Tidify Ver.2</code></strong> 부턴 URL 을 기반으로 적합한 북마크 이름을 지정할 수 있습니다.</p>\n<p>그럼 전 Version.2 준비하러 20000</p>\n<br>\n<br>\n<br>","frontmatter":{"date":"May 28, 2023","title":"OpenAI로 서비스 사용성 개선하기","categories":"Tidify OpenAi","author":"Hoo","emoji":"🌿🤙🏻"},"fields":{"slug":"/운영중인 서비스에 OpenAI 붙이기/"}},"site":{"siteMetadata":{"siteUrl":"https://www.zoomkoding.com","comments":{"utterances":{"repo":""}}}}},"pageContext":{"slug":"/Oauth2/","nextSlug":"/Scailing up the Prime Video/","prevSlug":"/운영중인 서비스에 OpenAI 붙이기/"}},
    "staticQueryHashes": ["1073350324","1956554647","2938748437"]}